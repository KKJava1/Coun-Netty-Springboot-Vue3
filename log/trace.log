2024-12-15 13:27:27.082 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-15 13:27:27.099 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 10316 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-15 13:27:27.099 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-15 13:27:27.176 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-15 13:27:27.178 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-15 13:27:28.526 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-15 13:27:28.528 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-15 13:27:28.570 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2024-12-15 13:27:29.652 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-15 13:27:29.663 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-15 13:27:29.663 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-15 13:27:29.663 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-15 13:27:29.762 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-15 13:27:29.765 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2586 ms
2024-12-15 13:27:30.060 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-15 13:27:30.286 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-15 13:27:30.500 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:27:31.014 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:27:32.256 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-15 13:27:32.878 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-15 13:27:32.948 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-15 13:27:32.957 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-15 13:27:33.051 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0x348ffd24]'
2024-12-15 13:27:33.063 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-15 13:27:33.077 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-15 13:27:33.095 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 6.37 seconds (JVM running for 9.78)
2024-12-15 13:27:33.104 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-15 13:27:33.104 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-15 13:28:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249125676223959040[0;39m 更新电子书下的文档数据开始
2024-12-15 13:28:00.077 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m249125676223959040[0;39m HikariPool-1 - Starting...
2024-12-15 13:28:01.033 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m249125676223959040[0;39m HikariPool-1 - Start completed.
2024-12-15 13:28:01.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249125676223959040[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:28:01.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249125676223959040[0;39m ==> Parameters: 
2024-12-15 13:28:01.114 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249125676223959040[0;39m <==    Updates: 5
2024-12-15 13:28:01.116 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249125676223959040[0;39m 更新电子书下的文档数据结束，耗时：1115毫秒
2024-12-15 13:30:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249126179548827648[0;39m 更新电子书下的文档数据开始
2024-12-15 13:30:00.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249126179548827648[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:30:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249126179548827648[0;39m ==> Parameters: 
2024-12-15 13:30:00.065 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249126179548827648[0;39m <==    Updates: 5
2024-12-15 13:30:00.066 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249126179548827648[0;39m 更新电子书下的文档数据结束，耗时：63毫秒
2024-12-15 13:32:00.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249126682890473472[0;39m 更新电子书下的文档数据开始
2024-12-15 13:32:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249126682890473472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:32:00.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249126682890473472[0;39m ==> Parameters: 
2024-12-15 13:32:00.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249126682890473472[0;39m <==    Updates: 5
2024-12-15 13:32:00.062 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249126682890473472[0;39m 更新电子书下的文档数据结束，耗时：53毫秒
2024-12-15 13:33:51.090 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【mg8fuEUC6o】连接成功
2024-12-15 13:33:51.180 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-15 13:33:51.181 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-15 13:33:51.184 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2024-12-15 13:33:51.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127149364187138[0;39m ------------- 开始 -------------
2024-12-15 13:33:51.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127149364187137[0;39m ------------- 开始 -------------
2024-12-15 13:33:51.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127149364187139[0;39m ------------- 开始 -------------
2024-12-15 13:33:51.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127149364187136[0;39m ------------- 开始 -------------
2024-12-15 13:33:51.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127149364187138[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:33:51.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127149364187137[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:33:51.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127149364187136[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:33:51.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127149364187138[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:33:51.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127149364187137[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:33:51.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127149364187136[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:33:51.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127149364187139[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:33:51.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127149364187138[0;39m 远程地址: 127.0.0.1
2024-12-15 13:33:51.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127149364187136[0;39m 远程地址: 127.0.0.1
2024-12-15 13:33:51.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127149364187139[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:33:51.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127149364187137[0;39m 远程地址: 127.0.0.1
2024-12-15 13:33:51.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127149364187139[0;39m 远程地址: 127.0.0.1
2024-12-15 13:33:51.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127149364187136[0;39m 请求参数: []
2024-12-15 13:33:51.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127149364187138[0;39m 请求参数: []
2024-12-15 13:33:51.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127149364187137[0;39m 请求参数: []
2024-12-15 13:33:51.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127149364187139[0;39m 请求参数: []
2024-12-15 13:33:51.287 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127149364187138[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:33:51.287 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127149364187138[0;39m ==> Parameters: 
2024-12-15 13:33:51.288 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127149364187139[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:33:51.288 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127149364187139[0;39m ==> Parameters: 
2024-12-15 13:33:51.319 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249127149364187137[0;39m 访问Redis
2024-12-15 13:33:51.322 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:33:51.322 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:33:51.323 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:33:51.323 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 1, Spring Boot 入门教程, 926, 59.78
2024-12-15 13:33:51.324 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 2, Vue 入门教程, 233, 15.04
2024-12-15 13:33:51.324 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:33:51.326 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:33:51.326 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:33:51.326 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:33:51.326 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.56
2024-12-15 13:33:51.326 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:33:51.326 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.85
2024-12-15 13:33:51.327 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:33:51.327 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127149364187138[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:33:51.327 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:33:51.327 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:33:51.327 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127149364187138[0;39m <==      Total: 8
2024-12-15 13:33:51.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:33:51.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127149364187139[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:33:51.329 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127149364187139[0;39m <==      Total: 8
2024-12-15 13:33:51.329 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127149364187136[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:33:51.331 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249127149364187137[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:33:51.331 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127149364187136[0;39m ==> Parameters: 
2024-12-15 13:33:51.331 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249127149364187137[0;39m ==> Parameters: 
2024-12-15 13:33:51.340 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:33:51.340 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:33:51.340 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249127149364187137[0;39m <==      Total: 0
2024-12-15 13:33:51.341 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:33:51.341 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:33:51.341 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:33:51.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:33:51.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:33:51.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:33:51.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:33:51.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:33:51.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:33:51.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:33:51.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:33:51.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:33:51.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:33:51.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:33:51.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:33:51.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127149364187136[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:33:51.358 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127149364187136[0;39m <==      Total: 17
2024-12-15 13:33:51.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127149364187139[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:33:51.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127149364187138[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.78,"viewCount":926},{"id":2,"name":"Vue 入门教程","percentage":15.04,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.56,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.85,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:33:51.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127149364187139[0;39m ------------- 结束 耗时：158 ms -------------
2024-12-15 13:33:51.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127149364187138[0;39m ------------- 结束 耗时：159 ms -------------
2024-12-15 13:33:51.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127149364187136[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:33:51.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127149364187136[0;39m ------------- 结束 耗时：179 ms -------------
2024-12-15 13:33:51.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127149364187137[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:33:51.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127149364187137[0;39m ------------- 结束 耗时：182 ms -------------
2024-12-15 13:34:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249127186236313600[0;39m 更新电子书下的文档数据开始
2024-12-15 13:34:00.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249127186236313600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:34:00.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249127186236313600[0;39m ==> Parameters: 
2024-12-15 13:34:00.064 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249127186236313600[0;39m <==    Updates: 5
2024-12-15 13:34:00.065 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249127186236313600[0;39m 更新电子书下的文档数据结束，耗时：47毫秒
2024-12-15 13:34:19.940 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m client【mg8fuEUC6o】断开连接
2024-12-15 13:34:21.968 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【xivs2HTQLj】连接成功
2024-12-15 13:34:22.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127278922043393[0;39m ------------- 开始 -------------
2024-12-15 13:34:22.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127278922043393[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:34:22.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127278922043393[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:34:22.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127278922043393[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:22.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127278922043393[0;39m 请求参数: []
2024-12-15 13:34:22.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127278922043392[0;39m ------------- 开始 -------------
2024-12-15 13:34:22.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127278934626304[0;39m ------------- 开始 -------------
2024-12-15 13:34:22.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127278951403520[0;39m ------------- 开始 -------------
2024-12-15 13:34:22.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127278922043392[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:34:22.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127278934626304[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:34:22.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127278951403520[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:34:22.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127278922043392[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:34:22.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127278951403520[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:34:22.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127278922043392[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:22.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127278951403520[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:22.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127278922043392[0;39m 请求参数: []
2024-12-15 13:34:22.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127278934626304[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:34:22.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127278934626304[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:22.126 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127278934626304[0;39m 请求参数: []
2024-12-15 13:34:22.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127278951403520[0;39m 请求参数: []
2024-12-15 13:34:22.130 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127278922043393[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:34:22.130 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127278922043393[0;39m ==> Parameters: 
2024-12-15 13:34:22.147 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127278934626304[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:34:22.147 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127278951403520[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:34:22.147 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:34:22.147 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127278934626304[0;39m ==> Parameters: 
2024-12-15 13:34:22.147 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127278951403520[0;39m ==> Parameters: 
2024-12-15 13:34:22.148 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:34:22.148 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:34:22.149 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:34:22.149 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:34:22.149 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:34:22.150 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:34:22.150 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:34:22.151 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127278922043393[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:34:22.152 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127278922043393[0;39m <==      Total: 8
2024-12-15 13:34:22.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127278922043393[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:34:22.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127278922043393[0;39m ------------- 结束 耗时：40 ms -------------
2024-12-15 13:34:22.181 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:34:22.182 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 1, Spring Boot 入门教程, 926, 59.78
2024-12-15 13:34:22.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:34:22.186 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 2, Vue 入门教程, 233, 15.04
2024-12-15 13:34:22.188 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:34:22.188 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:34:22.189 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:34:22.189 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:34:22.189 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:34:22.189 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:34:22.189 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.56
2024-12-15 13:34:22.190 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:34:22.190 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.85
2024-12-15 13:34:22.190 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:34:22.190 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127278934626304[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:34:22.190 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:34:22.191 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:34:22.191 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:34:22.191 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:34:22.192 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:34:22.193 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:34:22.194 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:34:22.194 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:34:22.194 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:34:22.197 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127278934626304[0;39m <==      Total: 8
2024-12-15 13:34:22.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:34:22.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127278934626304[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.78,"viewCount":926},{"id":2,"name":"Vue 入门教程","percentage":15.04,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.56,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.85,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:34:22.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127278934626304[0;39m ------------- 结束 耗时：82 ms -------------
2024-12-15 13:34:22.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:34:22.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127278951403520[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:34:22.198 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127278951403520[0;39m <==      Total: 17
2024-12-15 13:34:22.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127278951403520[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:34:22.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127278951403520[0;39m ------------- 结束 耗时：80 ms -------------
2024-12-15 13:34:22.212 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249127278922043392[0;39m 访问Redis
2024-12-15 13:34:22.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127278922043392[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:34:22.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127278922043392[0;39m ------------- 结束 耗时：106 ms -------------
2024-12-15 13:34:25.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127292519976960[0;39m ------------- 开始 -------------
2024-12-15 13:34:25.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127292519976960[0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2024-12-15 13:34:25.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127292519976960[0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2024-12-15 13:34:25.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127292519976960[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:25.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127292519976960[0;39m 请求参数: [{"loginName":"test"}]
2024-12-15 13:34:25.408 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m249127292519976960[0;39m ==>  Preparing: select id, login_name, `name`, `password`, avatar from user WHERE ( login_name = ? )
2024-12-15 13:34:25.409 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m249127292519976960[0;39m ==> Parameters: test(String)
2024-12-15 13:34:25.421 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m249127292519976960[0;39m <==    Columns: id, login_name, name, password, avatar
2024-12-15 13:34:25.421 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m249127292519976960[0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4, http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png
2024-12-15 13:34:25.422 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m249127292519976960[0;39m <==      Total: 1
2024-12-15 13:34:25.433 INFO  com.jiawa.wiki.controller.UserController          :99   [32m249127292519976960[0;39m 生成单点登录token：249127292847132672，并放入redis中
2024-12-15 13:34:25.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127292519976960[0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"249127292847132672"},"success":true}
2024-12-15 13:34:25.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127292519976960[0;39m ------------- 结束 耗时：90 ms -------------
2024-12-15 13:34:30.703 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m client【xivs2HTQLj】断开连接
2024-12-15 13:34:32.039 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【W9wwAThFd4】连接成功
2024-12-15 13:34:32.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127321234182144[0;39m ------------- 开始 -------------
2024-12-15 13:34:32.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127321234182144[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:34:32.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127321234182144[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:34:32.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127321234182144[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:32.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127321234182144[0;39m 请求参数: []
2024-12-15 13:34:32.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127321267736576[0;39m ------------- 开始 -------------
2024-12-15 13:34:32.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127321267736576[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:34:32.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127321267736576[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:34:32.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127321267736576[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:32.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127321267736576[0;39m 请求参数: []
2024-12-15 13:34:32.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127321267736577[0;39m ------------- 开始 -------------
2024-12-15 13:34:32.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127321267736577[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:34:32.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127321267736577[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:34:32.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127321267736577[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:32.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127321267736577[0;39m 请求参数: []
2024-12-15 13:34:32.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127321292902400[0;39m ------------- 开始 -------------
2024-12-15 13:34:32.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127321292902400[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:34:32.217 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127321234182144[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:34:32.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127321292902400[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:34:32.217 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127321234182144[0;39m ==> Parameters: 
2024-12-15 13:34:32.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127321292902400[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:32.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127321292902400[0;39m 请求参数: []
2024-12-15 13:34:32.221 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127321267736576[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:34:32.221 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127321267736576[0;39m ==> Parameters: 
2024-12-15 13:34:32.227 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:34:32.227 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127321267736577[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:34:32.227 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:34:32.228 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:34:32.227 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127321267736577[0;39m ==> Parameters: 
2024-12-15 13:34:32.228 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:34:32.228 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:34:32.229 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:34:32.229 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:34:32.229 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:34:32.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:34:32.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:34:32.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:34:32.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:34:32.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:34:32.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:34:32.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:34:32.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:34:32.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:34:32.233 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:34:32.233 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 1, Spring Boot 入门教程, 926, 59.78
2024-12-15 13:34:32.234 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 2, Vue 入门教程, 233, 15.04
2024-12-15 13:34:32.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127321234182144[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:34:32.234 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127321234182144[0;39m <==      Total: 17
2024-12-15 13:34:32.234 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:34:32.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127321234182144[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:34:32.237 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249127321292902400[0;39m 访问Redis
2024-12-15 13:34:32.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127321234182144[0;39m ------------- 结束 耗时：36 ms -------------
2024-12-15 13:34:32.238 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:34:32.238 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:34:32.238 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.56
2024-12-15 13:34:32.238 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.85
2024-12-15 13:34:32.239 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127321267736576[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:34:32.239 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127321267736576[0;39m <==      Total: 8
2024-12-15 13:34:32.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127321267736576[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.78,"viewCount":926},{"id":2,"name":"Vue 入门教程","percentage":15.04,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.56,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.85,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:34:32.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127321267736576[0;39m ------------- 结束 耗时：31 ms -------------
2024-12-15 13:34:32.249 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:34:32.256 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:34:32.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127321292902400[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:34:32.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127321292902400[0;39m ------------- 结束 耗时：54 ms -------------
2024-12-15 13:34:32.269 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:34:32.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:34:32.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:34:32.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:34:32.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:34:32.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:34:32.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127321267736577[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:34:32.272 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127321267736577[0;39m <==      Total: 8
2024-12-15 13:34:32.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127321267736577[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:34:32.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127321267736577[0;39m ------------- 结束 耗时：65 ms -------------
2024-12-15 13:34:34.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127330151272448[0;39m ------------- 开始 -------------
2024-12-15 13:34:34.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127330151272448[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:34:34.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127330151272448[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:34:34.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127330151272448[0;39m 远程地址: 127.0.0.1
2024-12-15 13:34:34.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127330151272448[0;39m 请求参数: [{"categoryId2":301,"page":1,"size":1000}]
2024-12-15 13:34:34.389 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127330151272448[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:34:34.389 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127330151272448[0;39m ==> Parameters: 301(Long)
2024-12-15 13:34:34.401 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127330151272448[0;39m <==    Columns: count(0)
2024-12-15 13:34:34.401 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127330151272448[0;39m <==        Row: 1
2024-12-15 13:34:34.402 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127330151272448[0;39m <==      Total: 1
2024-12-15 13:34:34.404 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127330151272448[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:34:34.405 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127330151272448[0;39m ==> Parameters: 301(Long), 1000(Integer)
2024-12-15 13:34:34.415 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127330151272448[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:34:34.415 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127330151272448[0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2024-12-15 13:34:34.416 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127330151272448[0;39m <==      Total: 1
2024-12-15 13:34:34.418 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249127330151272448[0;39m 总行数：1
2024-12-15 13:34:34.418 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249127330151272448[0;39m 总页数：1
2024-12-15 13:34:34.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127330151272448[0;39m 返回结果: {"content":{"list":[{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2024-12-15 13:34:34.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127330151272448[0;39m ------------- 结束 耗时：112 ms -------------
2024-12-15 13:35:20.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127521948405760[0;39m ------------- 开始 -------------
2024-12-15 13:35:20.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127521948405760[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:35:20.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127521948405760[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:35:20.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127521948405760[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:20.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127521948405760[0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2024-12-15 13:35:20.077 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127521948405760[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:35:20.078 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127521948405760[0;39m ==> Parameters: 201(Long)
2024-12-15 13:35:20.089 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127521948405760[0;39m <==    Columns: count(0)
2024-12-15 13:35:20.089 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127521948405760[0;39m <==        Row: 0
2024-12-15 13:35:20.090 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127521948405760[0;39m <==      Total: 1
2024-12-15 13:35:20.090 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249127521948405760[0;39m 总行数：0
2024-12-15 13:35:20.090 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249127521948405760[0;39m 总页数：0
2024-12-15 13:35:20.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127521948405760[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2024-12-15 13:35:20.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127521948405760[0;39m ------------- 结束 耗时：35 ms -------------
2024-12-15 13:35:20.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127525907828736[0;39m ------------- 开始 -------------
2024-12-15 13:35:21.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127525907828736[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:35:21.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127525907828736[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:35:21.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127525907828736[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:21.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127525907828736[0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2024-12-15 13:35:21.024 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127525907828736[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:35:21.026 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127525907828736[0;39m ==> Parameters: 202(Long)
2024-12-15 13:35:21.036 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127525907828736[0;39m <==    Columns: count(0)
2024-12-15 13:35:21.036 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127525907828736[0;39m <==        Row: 2
2024-12-15 13:35:21.036 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127525907828736[0;39m <==      Total: 1
2024-12-15 13:35:21.037 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127525907828736[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:35:21.038 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127525907828736[0;39m ==> Parameters: 202(Long), 1000(Integer)
2024-12-15 13:35:21.053 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127525907828736[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:35:21.053 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127525907828736[0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 926, 38
2024-12-15 13:35:21.053 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127525907828736[0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 210, 12
2024-12-15 13:35:21.054 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127525907828736[0;39m <==      Total: 2
2024-12-15 13:35:21.055 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249127525907828736[0;39m 总行数：2
2024-12-15 13:35:21.055 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249127525907828736[0;39m 总页数：1
2024-12-15 13:35:21.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127525907828736[0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":926,"voteCount":38},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":210,"voteCount":12}],"total":2},"success":true}
2024-12-15 13:35:21.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127525907828736[0;39m ------------- 结束 耗时：56 ms -------------
2024-12-15 13:35:23.342 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249127321267736576[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:35:23.343 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249127321267736576[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2024-12-15 13:35:23.354 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249127321267736576[0;39m LogInterceptor 结束
2024-12-15 13:35:23.359 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249127321267736576[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:35:23.360 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249127321267736576[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:35:23.360 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249127321267736576[0;39m 登录校验开始，token：249127292847132672
2024-12-15 13:35:23.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127535839940608[0;39m ------------- 开始 -------------
2024-12-15 13:35:23.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127535839940608[0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2024-12-15 13:35:23.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127535839940608[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:35:23.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127535839940608[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:23.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127535839940608[0;39m 请求参数: [6]
2024-12-15 13:35:23.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127535877689344[0;39m ------------- 开始 -------------
2024-12-15 13:35:23.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127535877689344[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/6 GET
2024-12-15 13:35:23.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127535877689344[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:35:23.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127535877689344[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:23.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127535877689344[0;39m 请求参数: [6]
2024-12-15 13:35:23.382 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m249127321267736576[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249127292847132672"}
2024-12-15 13:35:23.389 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249127535877689344[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:35:23.391 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249127535877689344[0;39m ==> Parameters: 6(Long)
2024-12-15 13:35:23.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127535940603904[0;39m ------------- 开始 -------------
2024-12-15 13:35:23.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127535940603904[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:35:23.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127535940603904[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:35:23.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127535940603904[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:23.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127535940603904[0;39m 请求参数: [1,6]
2024-12-15 13:35:23.396 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127535839940608[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:35:23.396 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127535839940608[0;39m ==> Parameters: 6(Long)
2024-12-15 13:35:23.406 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249127535940603904[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:35:23.406 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249127535940603904[0;39m ==> Parameters: 1(Long), 6(Long)
2024-12-15 13:35:23.408 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:35:23.408 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 115, 3
2024-12-15 13:35:23.408 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249127535877689344[0;39m <==      Total: 0
2024-12-15 13:35:23.408 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2024-12-15 13:35:23.408 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2024-12-15 13:35:23.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127535877689344[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:35:23.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127535877689344[0;39m ------------- 结束 耗时：34 ms -------------
2024-12-15 13:35:23.409 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 12, 1
2024-12-15 13:35:23.410 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 8, 0
2024-12-15 13:35:23.410 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 14, 2
2024-12-15 13:35:23.411 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 38, 3
2024-12-15 13:35:23.411 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2024-12-15 13:35:23.411 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127535839940608[0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2024-12-15 13:35:23.412 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127535839940608[0;39m <==      Total: 9
2024-12-15 13:35:23.417 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249127535940603904[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:35:23.417 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249127535940603904[0;39m <==        Row: 2, 1, 6, 39792357465526272
2024-12-15 13:35:23.418 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249127535940603904[0;39m <==      Total: 1
2024-12-15 13:35:23.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127535940603904[0;39m 返回结果: {"content":{"docId":39792357465526272,"ebookId":6,"id":2,"userId":1},"success":true}
2024-12-15 13:35:23.432 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127535940603904[0;39m ------------- 结束 耗时：41 ms -------------
2024-12-15 13:35:23.435 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249127535940603904[0;39m ------------- LoginInterceptor 结束 耗时：75 ms -------------
2024-12-15 13:35:23.435 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249127535940603904[0;39m LogInterceptor 结束
2024-12-15 13:35:23.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127535839940608[0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":115,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":8,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":38,"voteCount":3},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2024-12-15 13:35:23.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127535839940608[0;39m ------------- 结束 耗时：72 ms -------------
2024-12-15 13:35:23.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127536192262144[0;39m ------------- 开始 -------------
2024-12-15 13:35:23.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127536192262144[0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2024-12-15 13:35:23.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127536192262144[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:35:23.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127536192262144[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:23.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127536192262144[0;39m 请求参数: [6]
2024-12-15 13:35:23.454 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127536192262144[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:35:23.455 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127536192262144[0;39m ==> Parameters: 6(Long)
2024-12-15 13:35:23.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:35:23.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 115, 3
2024-12-15 13:35:23.468 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2024-12-15 13:35:23.468 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2024-12-15 13:35:23.469 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 12, 1
2024-12-15 13:35:23.469 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 8, 0
2024-12-15 13:35:23.469 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 14, 2
2024-12-15 13:35:23.469 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 38, 3
2024-12-15 13:35:23.471 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2024-12-15 13:35:23.471 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127536192262144[0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2024-12-15 13:35:23.472 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127536192262144[0;39m <==      Total: 9
2024-12-15 13:35:23.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127536192262144[0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":115,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":8,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":38,"voteCount":3},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2024-12-15 13:35:23.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127536192262144[0;39m ------------- 结束 耗时：26 ms -------------
2024-12-15 13:35:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127536586526720[0;39m ------------- 开始 -------------
2024-12-15 13:35:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127536586526720[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2024-12-15 13:35:23.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127536586526720[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:35:23.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127536586526720[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:23.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127536586526720[0;39m 请求参数: [39792357465526272]
2024-12-15 13:35:23.547 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127536586526720[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:35:23.547 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127536586526720[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:35:23.570 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127536586526720[0;39m <==    Columns: id, content
2024-12-15 13:35:23.572 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127536586526720[0;39m <==        Row: 39792357465526272, <<BLOB>>
2024-12-15 13:35:23.573 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127536586526720[0;39m <==      Total: 1
2024-12-15 13:35:23.575 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127536586526720[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:35:23.575 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127536586526720[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:35:23.613 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127536586526720[0;39m <==    Updates: 1
2024-12-15 13:35:23.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127536586526720[0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2024-12-15 13:35:23.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127536586526720[0;39m ------------- 结束 耗时：71 ms -------------
2024-12-15 13:35:23.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127536905293824[0;39m ------------- 开始 -------------
2024-12-15 13:35:23.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127536905293824[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2024-12-15 13:35:23.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127536905293824[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:35:23.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127536905293824[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:23.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127536905293824[0;39m 请求参数: [39792357465526272]
2024-12-15 13:35:23.623 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127536905293824[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:35:23.624 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127536905293824[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:35:23.645 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127536905293824[0;39m <==    Columns: id, content
2024-12-15 13:35:23.645 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127536905293824[0;39m <==        Row: 39792357465526272, <<BLOB>>
2024-12-15 13:35:23.646 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127536905293824[0;39m <==      Total: 1
2024-12-15 13:35:23.646 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127536905293824[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:35:23.647 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127536905293824[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:35:23.672 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127536905293824[0;39m <==    Updates: 1
2024-12-15 13:35:23.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127536905293824[0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2024-12-15 13:35:23.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127536905293824[0;39m ------------- 结束 耗时：52 ms -------------
2024-12-15 13:35:25.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127545084186624[0;39m ------------- 开始 -------------
2024-12-15 13:35:25.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127545084186624[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39792357465526272 GET
2024-12-15 13:35:25.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127545084186624[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:35:25.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127545084186624[0;39m 远程地址: 127.0.0.1
2024-12-15 13:35:25.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127545084186624[0;39m 请求参数: [39792357465526272]
2024-12-15 13:35:25.585 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m249127545084186624[0;39m key不存在，放入：DOC_VOTE_39792357465526272_127.0.0.1，过期 5000 秒
2024-12-15 13:35:25.606 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249127545084186624[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-15 13:35:25.607 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249127545084186624[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:35:25.627 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249127545084186624[0;39m <==    Updates: 1
2024-12-15 13:35:25.629 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249127545084186624[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-15 13:35:25.629 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249127545084186624[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:35:25.638 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249127545084186624[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:35:25.638 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249127545084186624[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 40, 4
2024-12-15 13:35:25.638 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249127545084186624[0;39m <==      Total: 1
2024-12-15 13:35:25.640 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m249127545084186624[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：生产者和消费者（发送端和接受端）
2024-12-15 13:35:25.730 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m249127545084186624[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-15 13:35:25.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127545084186624[0;39m 返回结果: {"success":true}
2024-12-15 13:35:25.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127545084186624[0;39m ------------- 结束 耗时：184 ms -------------
2024-12-15 13:35:30.770 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...生产者和消费者（发送端和接受端）
2024-12-15 13:35:35.766 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-15 13:36:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249127689544404992[0;39m 更新电子书下的文档数据开始
2024-12-15 13:36:00.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249127689544404992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:36:00.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249127689544404992[0;39m ==> Parameters: 
2024-12-15 13:36:00.055 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249127689544404992[0;39m <==    Updates: 5
2024-12-15 13:36:00.056 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249127689544404992[0;39m 更新电子书下的文档数据结束，耗时：43毫秒
2024-12-15 13:36:14.137 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-15 13:36:14.145 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-15 13:36:14.147 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-15 13:36:14.149 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-15 13:36:14.994 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.command.RedisExecutor.execute(RedisExecutor.java:129)
	at org.redisson.command.CommandAsyncService.async(CommandAsyncService.java:622)
	at org.redisson.command.CommandAsyncService.writeAsync(CommandAsyncService.java:578)
	at org.redisson.RedissonBlockingQueue.pollAsync(RedissonBlockingQueue.java:97)
	at org.redisson.RedissonBlockingQueue.poll(RedissonBlockingQueue.java:106)
	at com.jiawa.wiki.task.QueueTaskConfig.lambda$queueTask$2(QueueTaskConfig.java:57)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-15 13:36:35.211 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 24396 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-15 13:36:35.209 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-15 13:36:35.212 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-15 13:36:35.281 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-15 13:36:35.281 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-15 13:36:36.503 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-15 13:36:36.505 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-15 13:36:36.541 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2024-12-15 13:36:37.279 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-15 13:36:37.286 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-15 13:36:37.286 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-15 13:36:37.287 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-15 13:36:37.355 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-15 13:36:37.355 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2073 ms
2024-12-15 13:36:37.639 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-15 13:36:37.858 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-15 13:36:38.141 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:36:38.720 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:36:40.012 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-15 13:36:40.719 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-15 13:36:40.793 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-15 13:36:40.802 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-15 13:36:40.895 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0xb84fd89c]'
2024-12-15 13:36:40.912 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-15 13:36:40.931 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-15 13:36:40.952 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 6.125 seconds (JVM running for 7.27)
2024-12-15 13:36:40.962 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-15 13:36:40.962 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-15 13:36:41.080 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-15 13:36:41.080 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-15 13:36:41.081 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2024-12-15 13:36:41.102 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2024-12-15 13:36:41.573 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2024-12-15 13:36:49.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127897049206784[0;39m ------------- 开始 -------------
2024-12-15 13:36:49.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127897229561856[0;39m ------------- 开始 -------------
2024-12-15 13:36:49.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127897229561856[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:36:49.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127897229561856[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:36:49.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127897229561856[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:49.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127897296670720[0;39m ------------- 开始 -------------
2024-12-15 13:36:49.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127897296670720[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:36:49.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127897296670720[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:36:49.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127897296670720[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:49.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127897049206784[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:36:49.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127897439277056[0;39m ------------- 开始 -------------
2024-12-15 13:36:49.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127897439277056[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:36:49.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127897439277056[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:36:49.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127897049206784[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:36:49.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127897439277056[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:49.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127897049206784[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:49.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127897229561856[0;39m 请求参数: []
2024-12-15 13:36:49.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127897439277056[0;39m 请求参数: []
2024-12-15 13:36:49.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127897296670720[0;39m 请求参数: []
2024-12-15 13:36:49.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127897049206784[0;39m 请求参数: []
2024-12-15 13:36:49.837 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127897229561856[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:36:49.837 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127897049206784[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:36:49.865 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249127897296670720[0;39m 访问Redis
2024-12-15 13:36:49.879 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249127897296670720[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:36:49.885 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127897439277056[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:36:49.890 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127897229561856[0;39m ==> Parameters: 
2024-12-15 13:36:49.890 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127897439277056[0;39m ==> Parameters: 
2024-12-15 13:36:49.891 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249127897296670720[0;39m ==> Parameters: 
2024-12-15 13:36:49.891 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127897049206784[0;39m ==> Parameters: 
2024-12-15 13:36:49.924 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249127897296670720[0;39m <==      Total: 0
2024-12-15 13:36:49.924 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:36:49.924 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:36:49.924 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:36:49.925 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:36:49.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:36:49.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:36:49.926 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:36:49.927 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:36:49.927 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:36:49.928 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:36:49.928 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:36:49.929 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:36:49.930 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:36:49.929 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:36:49.931 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:36:49.932 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:36:49.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:36:49.932 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:36:49.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:36:49.933 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249127897049206784[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:36:49.933 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249127897049206784[0;39m <==      Total: 8
2024-12-15 13:36:49.936 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:36:49.937 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:36:49.939 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:36:49.926 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:36:49.940 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 1, Spring Boot 入门教程, 926, 59.70
2024-12-15 13:36:49.942 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 2, Vue 入门教程, 233, 15.02
2024-12-15 13:36:49.940 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:36:49.943 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:36:49.945 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:36:49.945 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:36:49.945 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:36:49.945 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:36:49.946 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.67
2024-12-15 13:36:49.946 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.83
2024-12-15 13:36:49.947 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249127897229561856[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:36:49.947 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249127897229561856[0;39m <==      Total: 8
2024-12-15 13:36:49.947 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249127897439277056[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:36:49.948 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249127897439277056[0;39m <==      Total: 17
2024-12-15 13:36:49.959 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127897296670720[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:36:49.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127897296670720[0;39m ------------- 结束 耗时：416 ms -------------
2024-12-15 13:36:49.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127897049206784[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:36:49.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127897049206784[0;39m ------------- 结束 耗时：500 ms -------------
2024-12-15 13:36:49.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127897229561856[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.7,"viewCount":926},{"id":2,"name":"Vue 入门教程","percentage":15.02,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.67,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.83,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:36:49.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127897229561856[0;39m ------------- 结束 耗时：459 ms -------------
2024-12-15 13:36:49.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127897439277056[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:36:49.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127897439277056[0;39m ------------- 结束 耗时：415 ms -------------
2024-12-15 13:36:51.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127906083737600[0;39m ------------- 开始 -------------
2024-12-15 13:36:51.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127906083737600[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:36:51.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127906083737600[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:36:51.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127906083737600[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:51.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127906083737600[0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2024-12-15 13:36:51.717 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127906083737600[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:36:51.719 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127906083737600[0;39m ==> Parameters: 202(Long)
2024-12-15 13:36:51.732 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127906083737600[0;39m <==    Columns: count(0)
2024-12-15 13:36:51.733 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249127906083737600[0;39m <==        Row: 2
2024-12-15 13:36:51.733 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249127906083737600[0;39m <==      Total: 1
2024-12-15 13:36:51.737 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127906083737600[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:36:51.737 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127906083737600[0;39m ==> Parameters: 202(Long), 1000(Integer)
2024-12-15 13:36:51.748 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127906083737600[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:36:51.749 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127906083737600[0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 926, 38
2024-12-15 13:36:51.750 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249127906083737600[0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 212, 13
2024-12-15 13:36:51.751 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249127906083737600[0;39m <==      Total: 2
2024-12-15 13:36:51.754 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249127906083737600[0;39m 总行数：2
2024-12-15 13:36:51.754 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249127906083737600[0;39m 总页数：1
2024-12-15 13:36:51.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127906083737600[0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":926,"voteCount":38},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":212,"voteCount":13}],"total":2},"success":true}
2024-12-15 13:36:51.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127906083737600[0;39m ------------- 结束 耗时：135 ms -------------
2024-12-15 13:36:52.938 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:36:52.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127911628607488[0;39m ------------- 开始 -------------
2024-12-15 13:36:52.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127911628607488[0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2024-12-15 13:36:52.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127911628607488[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:36:52.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127911628607488[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:52.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127911628607488[0;39m 请求参数: [1]
2024-12-15 13:36:52.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：2 ms -------------
2024-12-15 13:36:52.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127911645384704[0;39m ------------- 开始 -------------
2024-12-15 13:36:52.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127911645384704[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2024-12-15 13:36:52.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127911645384704[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:36:52.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127911645384704[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:52.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127911645384704[0;39m 请求参数: [1]
2024-12-15 13:36:52.970 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m                  [0;39m LogInterceptor 结束
2024-12-15 13:36:52.975 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:36:52.975 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:36:52.976 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：249127292847132672
2024-12-15 13:36:52.986 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249127911645384704[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:36:52.987 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249127911645384704[0;39m ==> Parameters: 1(Long)
2024-12-15 13:36:52.993 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127911628607488[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:36:52.994 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127911628607488[0;39m ==> Parameters: 1(Long)
2024-12-15 13:36:52.996 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249127911645384704[0;39m <==      Total: 0
2024-12-15 13:36:52.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127911645384704[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:36:52.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127911645384704[0;39m ------------- 结束 耗时：31 ms -------------
2024-12-15 13:36:53.002 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249127292847132672"}
2024-12-15 13:36:53.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127911829934080[0;39m ------------- 开始 -------------
2024-12-15 13:36:53.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127911829934080[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:36:53.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127911829934080[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:36:53.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127911829934080[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:53.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127911829934080[0;39m 请求参数: [1,1]
2024-12-15 13:36:53.014 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249127911829934080[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:36:53.015 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249127911829934080[0;39m ==> Parameters: 1(Long), 1(Long)
2024-12-15 13:36:53.016 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:36:53.017 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 1, 1, 0, 文档1, 1, 691, 14
2024-12-15 13:36:53.017 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2024-12-15 13:36:53.017 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2024-12-15 13:36:53.018 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2024-12-15 13:36:53.018 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 8
2024-12-15 13:36:53.018 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2024-12-15 13:36:53.019 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2024-12-15 13:36:53.019 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127911628607488[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2024-12-15 13:36:53.019 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127911628607488[0;39m <==      Total: 8
2024-12-15 13:36:53.025 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249127911829934080[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:36:53.026 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249127911829934080[0;39m <==        Row: 1, 1, 1, 37841703666847744
2024-12-15 13:36:53.026 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249127911829934080[0;39m <==      Total: 1
2024-12-15 13:36:53.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127911628607488[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":691,"voteCount":14},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":24,"voteCount":8},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2024-12-15 13:36:53.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127911628607488[0;39m ------------- 结束 耗时：73 ms -------------
2024-12-15 13:36:53.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127911829934080[0;39m 返回结果: {"content":{"docId":37841703666847744,"ebookId":1,"id":1,"userId":1},"success":true}
2024-12-15 13:36:53.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127911829934080[0;39m ------------- 结束 耗时：28 ms -------------
2024-12-15 13:36:53.040 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249127911829934080[0;39m ------------- LoginInterceptor 结束 耗时：65 ms -------------
2024-12-15 13:36:53.041 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249127911829934080[0;39m LogInterceptor 结束
2024-12-15 13:36:53.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127912182255616[0;39m ------------- 开始 -------------
2024-12-15 13:36:53.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127912182255616[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2024-12-15 13:36:53.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127912182255616[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:36:53.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127912182255616[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:53.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127912182255616[0;39m 请求参数: [1]
2024-12-15 13:36:53.118 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127912282918912[0;39m ------------- 开始 -------------
2024-12-15 13:36:53.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127912282918912[0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2024-12-15 13:36:53.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127912282918912[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:36:53.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127912282918912[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:53.119 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127912282918912[0;39m 请求参数: [1]
2024-12-15 13:36:53.122 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127912282918912[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:36:53.125 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127912182255616[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:36:53.126 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127912182255616[0;39m ==> Parameters: 1(Long)
2024-12-15 13:36:53.127 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127912282918912[0;39m ==> Parameters: 1(Long)
2024-12-15 13:36:53.142 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:36:53.142 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 1, 1, 0, 文档1, 1, 691, 14
2024-12-15 13:36:53.145 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2024-12-15 13:36:53.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2024-12-15 13:36:53.146 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127912182255616[0;39m <==    Columns: id, content
2024-12-15 13:36:53.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2024-12-15 13:36:53.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 8
2024-12-15 13:36:53.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2024-12-15 13:36:53.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2024-12-15 13:36:53.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249127912282918912[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2024-12-15 13:36:53.146 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127912182255616[0;39m <==        Row: 1, <<BLOB>>
2024-12-15 13:36:53.149 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127912182255616[0;39m <==      Total: 1
2024-12-15 13:36:53.154 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127912182255616[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:36:53.155 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249127912282918912[0;39m <==      Total: 8
2024-12-15 13:36:53.155 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127912182255616[0;39m ==> Parameters: 1(Long)
2024-12-15 13:36:53.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127912282918912[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":691,"voteCount":14},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":24,"voteCount":8},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2024-12-15 13:36:53.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127912282918912[0;39m ------------- 结束 耗时：44 ms -------------
2024-12-15 13:36:53.188 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127912182255616[0;39m <==    Updates: 1
2024-12-15 13:36:53.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127912182255616[0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2024-12-15 13:36:53.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127912182255616[0;39m ------------- 结束 耗时：96 ms -------------
2024-12-15 13:36:53.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127913406992384[0;39m ------------- 开始 -------------
2024-12-15 13:36:53.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127913406992384[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2024-12-15 13:36:53.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127913406992384[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:36:53.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127913406992384[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:53.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127913406992384[0;39m 请求参数: [37841703666847744]
2024-12-15 13:36:53.398 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127913406992384[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:36:53.400 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127913406992384[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-15 13:36:53.410 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127913406992384[0;39m <==    Columns: id, content
2024-12-15 13:36:53.411 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249127913406992384[0;39m <==        Row: 37841703666847744, <<BLOB>>
2024-12-15 13:36:53.411 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249127913406992384[0;39m <==      Total: 1
2024-12-15 13:36:53.412 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127913406992384[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:36:53.412 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127913406992384[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-15 13:36:53.432 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249127913406992384[0;39m <==    Updates: 1
2024-12-15 13:36:53.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127913406992384[0;39m 返回结果: {"content":"","success":true}
2024-12-15 13:36:53.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127913406992384[0;39m ------------- 结束 耗时：47 ms -------------
2024-12-15 13:36:56.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249127924568035328[0;39m ------------- 开始 -------------
2024-12-15 13:36:56.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249127924568035328[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2024-12-15 13:36:56.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249127924568035328[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:36:56.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249127924568035328[0;39m 远程地址: 127.0.0.1
2024-12-15 13:36:56.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249127924568035328[0;39m 请求参数: [37841703666847744]
2024-12-15 13:36:56.066 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m249127924568035328[0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2024-12-15 13:36:56.087 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249127924568035328[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-15 13:36:56.087 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249127924568035328[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-15 13:36:56.110 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249127924568035328[0;39m <==    Updates: 1
2024-12-15 13:36:56.111 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249127924568035328[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-15 13:36:56.112 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249127924568035328[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-15 13:36:56.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249127924568035328[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:36:56.122 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249127924568035328[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 25, 9
2024-12-15 13:36:56.123 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249127924568035328[0;39m <==      Total: 1
2024-12-15 13:36:56.125 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m249127924568035328[0;39m 将任务添加到延迟队列，延迟时间：1秒，任务类型：redisson-task01，任务内容：文档2.2.2
2024-12-15 13:36:56.226 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m249127924568035328[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-15 13:36:56.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249127924568035328[0;39m 返回结果: {"success":true}
2024-12-15 13:36:56.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249127924568035328[0;39m ------------- 结束 耗时：201 ms -------------
2024-12-15 13:36:57.211 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...文档2.2.2
2024-12-15 13:37:06.297 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-15 13:37:36.229 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-15 13:37:36.234 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-15 13:37:36.235 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-15 13:37:36.239 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-15 13:37:36.810 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.command.RedisExecutor.execute(RedisExecutor.java:129)
	at org.redisson.command.CommandAsyncService.async(CommandAsyncService.java:622)
	at org.redisson.command.CommandAsyncService.writeAsync(CommandAsyncService.java:578)
	at org.redisson.RedissonBlockingQueue.pollAsync(RedissonBlockingQueue.java:97)
	at org.redisson.RedissonBlockingQueue.poll(RedissonBlockingQueue.java:106)
	at com.jiawa.wiki.task.QueueTaskConfig.lambda$queueTask$2(QueueTaskConfig.java:57)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-15 13:37:47.028 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 20104 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-15 13:37:47.028 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-15 13:37:47.031 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-15 13:37:47.196 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-15 13:37:47.197 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-15 13:37:48.807 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-15 13:37:48.810 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-15 13:37:48.859 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2024-12-15 13:37:49.824 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-15 13:37:49.830 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-15 13:37:49.831 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-15 13:37:49.831 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-15 13:37:49.906 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-15 13:37:49.906 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2708 ms
2024-12-15 13:37:50.176 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-15 13:37:50.500 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-15 13:37:50.664 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:37:51.183 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:37:52.008 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-15 13:37:52.584 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-15 13:37:52.650 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-15 13:37:52.658 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-15 13:37:52.753 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0xef8d9338]'
2024-12-15 13:37:52.771 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-15 13:37:52.783 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-15 13:37:52.801 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 6.633 seconds (JVM running for 8.748)
2024-12-15 13:37:52.808 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-15 13:37:52.809 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-15 13:37:53.033 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-15 13:37:53.034 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-15 13:37:53.037 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 3 ms
2024-12-15 13:37:53.048 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2024-12-15 13:37:53.582 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2024-12-15 13:38:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249128192860884992[0;39m 更新电子书下的文档数据开始
2024-12-15 13:38:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249128192860884992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:38:00.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249128192860884992[0;39m ==> Parameters: 
2024-12-15 13:38:00.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249128192860884992[0;39m <==    Updates: 5
2024-12-15 13:38:00.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249128192860884992[0;39m 更新电子书下的文档数据结束，耗时：74毫秒
2024-12-15 13:38:04.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128210040754179[0;39m ------------- 开始 -------------
2024-12-15 13:38:04.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128210040754176[0;39m ------------- 开始 -------------
2024-12-15 13:38:04.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128210040754177[0;39m ------------- 开始 -------------
2024-12-15 13:38:04.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128210040754178[0;39m ------------- 开始 -------------
2024-12-15 13:38:04.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128210040754176[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:38:04.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128210040754178[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:38:04.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128210040754177[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:38:04.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128210040754176[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:38:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128210040754177[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:38:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128210040754176[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128210040754177[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128210040754178[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:38:04.112 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128210040754178[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:04.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128210040754179[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:38:04.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128210040754179[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:38:04.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128210040754179[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:04.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128210040754177[0;39m 请求参数: []
2024-12-15 13:38:04.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128210040754179[0;39m 请求参数: []
2024-12-15 13:38:04.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128210040754178[0;39m 请求参数: []
2024-12-15 13:38:04.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128210040754176[0;39m 请求参数: []
2024-12-15 13:38:04.242 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128210040754178[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:38:04.243 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128210040754178[0;39m ==> Parameters: 
2024-12-15 13:38:04.242 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128210040754179[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:38:04.247 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128210040754179[0;39m ==> Parameters: 
2024-12-15 13:38:04.268 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249128210040754176[0;39m 访问Redis
2024-12-15 13:38:04.270 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:38:04.270 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:38:04.270 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 1, Spring Boot 入门教程, 928, 59.76
2024-12-15 13:38:04.271 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:38:04.272 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 2, Vue 入门教程, 233, 15.00
2024-12-15 13:38:04.273 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128210040754177[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:38:04.273 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:38:04.274 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128210040754177[0;39m ==> Parameters: 
2024-12-15 13:38:04.274 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:38:04.274 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:38:04.275 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.65
2024-12-15 13:38:04.275 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.82
2024-12-15 13:38:04.276 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128210040754179[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:38:04.277 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128210040754179[0;39m <==      Total: 8
2024-12-15 13:38:04.276 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:38:04.283 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:38:04.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128210040754176[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:04.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128210040754179[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.76,"viewCount":928},{"id":2,"name":"Vue 入门教程","percentage":15.0,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.65,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:38:04.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128210040754176[0;39m ------------- 结束 耗时：322 ms -------------
2024-12-15 13:38:04.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128210040754179[0;39m ------------- 结束 耗时：323 ms -------------
2024-12-15 13:38:04.431 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:38:04.431 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:38:04.431 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:38:04.432 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:38:04.434 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:38:04.434 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:38:04.435 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:38:04.435 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:38:04.436 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128210040754178[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:38:04.436 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:38:04.436 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128210040754178[0;39m <==      Total: 8
2024-12-15 13:38:04.437 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:38:04.438 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:38:04.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128210040754178[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:38:04.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128210040754178[0;39m ------------- 结束 耗时：333 ms -------------
2024-12-15 13:38:04.439 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:38:04.441 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:38:04.443 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:38:04.448 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:38:04.458 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:38:04.460 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:38:04.461 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:38:04.464 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:38:04.466 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:38:04.466 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:38:04.479 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128210040754177[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:38:04.484 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128210040754177[0;39m <==      Total: 17
2024-12-15 13:38:04.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128210040754177[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:38:04.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128210040754177[0;39m ------------- 结束 耗时：475 ms -------------
2024-12-15 13:38:10.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128237513445376[0;39m ------------- 开始 -------------
2024-12-15 13:38:10.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128237513445376[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:38:10.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128237513445376[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:38:10.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128237513445376[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:10.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128237513445376[0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2024-12-15 13:38:10.724 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128237513445376[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:38:10.726 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128237513445376[0;39m ==> Parameters: 201(Long)
2024-12-15 13:38:10.735 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128237513445376[0;39m <==    Columns: count(0)
2024-12-15 13:38:10.737 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128237513445376[0;39m <==        Row: 0
2024-12-15 13:38:10.737 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128237513445376[0;39m <==      Total: 1
2024-12-15 13:38:10.738 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249128237513445376[0;39m 总行数：0
2024-12-15 13:38:10.740 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249128237513445376[0;39m 总页数：0
2024-12-15 13:38:10.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128237513445376[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2024-12-15 13:38:10.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128237513445376[0;39m ------------- 结束 耗时：84 ms -------------
2024-12-15 13:38:11.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128241040855040[0;39m ------------- 开始 -------------
2024-12-15 13:38:11.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128241040855040[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:38:11.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128241040855040[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:38:11.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128241040855040[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:11.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128241040855040[0;39m 请求参数: [{"categoryId2":301,"page":1,"size":1000}]
2024-12-15 13:38:11.522 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128241040855040[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:38:11.523 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128241040855040[0;39m ==> Parameters: 301(Long)
2024-12-15 13:38:11.532 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128241040855040[0;39m <==    Columns: count(0)
2024-12-15 13:38:11.533 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128241040855040[0;39m <==        Row: 1
2024-12-15 13:38:11.533 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128241040855040[0;39m <==      Total: 1
2024-12-15 13:38:11.534 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128241040855040[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:38:11.536 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128241040855040[0;39m ==> Parameters: 301(Long), 1000(Integer)
2024-12-15 13:38:11.547 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128241040855040[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:38:11.547 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128241040855040[0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2024-12-15 13:38:11.548 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128241040855040[0;39m <==      Total: 1
2024-12-15 13:38:11.548 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249128241040855040[0;39m 总行数：1
2024-12-15 13:38:11.549 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249128241040855040[0;39m 总页数：1
2024-12-15 13:38:11.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128241040855040[0;39m 返回结果: {"content":{"list":[{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2024-12-15 13:38:11.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128241040855040[0;39m ------------- 结束 耗时：64 ms -------------
2024-12-15 13:38:12.688 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:12.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2024-12-15 13:38:12.702 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m                  [0;39m LogInterceptor 结束
2024-12-15 13:38:12.716 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128246141128704[0;39m ------------- 开始 -------------
2024-12-15 13:38:12.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128246141128704[0;39m 请求地址: http://127.0.0.1:8880/doc/all/3 GET
2024-12-15 13:38:12.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128246141128704[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:38:12.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128246141128704[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:12.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128246149517312[0;39m ------------- 开始 -------------
2024-12-15 13:38:12.720 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128210040754176[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:12.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128246141128704[0;39m 请求参数: [3]
2024-12-15 13:38:12.720 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249128210040754176[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:38:12.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128246149517312[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/3 GET
2024-12-15 13:38:12.724 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249128210040754176[0;39m 登录校验开始，token：249127292847132672
2024-12-15 13:38:12.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128246149517312[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:38:12.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128246149517312[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:12.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128246149517312[0;39m 请求参数: [3]
2024-12-15 13:38:12.741 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m249128210040754176[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249127292847132672"}
2024-12-15 13:38:12.744 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128246149517312[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:38:12.744 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128246149517312[0;39m ==> Parameters: 3(Long)
2024-12-15 13:38:12.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128246279540736[0;39m ------------- 开始 -------------
2024-12-15 13:38:12.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128246279540736[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:38:12.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128246279540736[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:38:12.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128246279540736[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:12.750 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128246141128704[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:38:12.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128246279540736[0;39m 请求参数: [1,3]
2024-12-15 13:38:12.750 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128246141128704[0;39m ==> Parameters: 3(Long)
2024-12-15 13:38:12.755 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128246149517312[0;39m <==      Total: 0
2024-12-15 13:38:12.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128246149517312[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:12.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128246149517312[0;39m ------------- 结束 耗时：38 ms -------------
2024-12-15 13:38:12.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128246141128704[0;39m <==      Total: 0
2024-12-15 13:38:12.762 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128246279540736[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:38:12.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128246141128704[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:12.763 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128246279540736[0;39m ==> Parameters: 1(Long), 3(Long)
2024-12-15 13:38:12.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128246141128704[0;39m ------------- 结束 耗时：47 ms -------------
2024-12-15 13:38:12.779 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128246279540736[0;39m <==      Total: 0
2024-12-15 13:38:12.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128246279540736[0;39m 返回结果: {"success":true}
2024-12-15 13:38:12.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128246279540736[0;39m ------------- 结束 耗时：42 ms -------------
2024-12-15 13:38:12.793 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128246279540736[0;39m ------------- LoginInterceptor 结束 耗时：73 ms -------------
2024-12-15 13:38:12.794 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128246279540736[0;39m LogInterceptor 结束
2024-12-15 13:38:14.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128253447606272[0;39m ------------- 开始 -------------
2024-12-15 13:38:14.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128253447606272[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:38:14.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128253447606272[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:38:14.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128253447606272[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:14.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128253451800576[0;39m ------------- 开始 -------------
2024-12-15 13:38:14.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128253447606272[0;39m 请求参数: []
2024-12-15 13:38:14.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128253451800576[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:38:14.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128253451800577[0;39m ------------- 开始 -------------
2024-12-15 13:38:14.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128253451800578[0;39m ------------- 开始 -------------
2024-12-15 13:38:14.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128253451800576[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:38:14.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128253451800577[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:38:14.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128253451800577[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:38:14.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128253451800577[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:14.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128253451800577[0;39m 请求参数: []
2024-12-15 13:38:14.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128253451800578[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:38:14.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128253451800576[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:14.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128253451800578[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:38:14.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128253451800576[0;39m 请求参数: []
2024-12-15 13:38:14.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128253451800578[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:14.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128253451800578[0;39m 请求参数: []
2024-12-15 13:38:14.470 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249128253447606272[0;39m 访问Redis
2024-12-15 13:38:14.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128253447606272[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:14.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128253447606272[0;39m ------------- 结束 耗时：13 ms -------------
2024-12-15 13:38:14.479 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128253451800576[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:38:14.478 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128253451800577[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:38:14.478 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128253451800578[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:38:14.479 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128253451800577[0;39m ==> Parameters: 
2024-12-15 13:38:14.479 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128253451800578[0;39m ==> Parameters: 
2024-12-15 13:38:14.479 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128253451800576[0;39m ==> Parameters: 
2024-12-15 13:38:14.496 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:38:14.496 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:38:14.497 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:38:14.497 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:38:14.497 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:38:14.498 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 1, Spring Boot 入门教程, 928, 59.76
2024-12-15 13:38:14.498 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:38:14.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:38:14.498 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:38:14.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:38:14.499 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:38:14.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:38:14.499 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 2, Vue 入门教程, 233, 15.00
2024-12-15 13:38:14.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:38:14.500 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:38:14.500 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:38:14.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:38:14.500 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:38:14.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:38:14.500 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:38:14.501 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:38:14.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:38:14.501 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.65
2024-12-15 13:38:14.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:38:14.501 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.82
2024-12-15 13:38:14.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:38:14.502 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128253451800576[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:38:14.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:38:14.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:38:14.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:38:14.506 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:38:14.507 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128253451800577[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:38:14.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:38:14.508 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128253451800576[0;39m <==      Total: 8
2024-12-15 13:38:14.509 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:38:14.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128253451800576[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.76,"viewCount":928},{"id":2,"name":"Vue 入门教程","percentage":15.0,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.65,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:38:14.511 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:38:14.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128253451800576[0;39m ------------- 结束 耗时：53 ms -------------
2024-12-15 13:38:14.513 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128253451800577[0;39m <==      Total: 8
2024-12-15 13:38:14.513 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128253451800578[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:38:14.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128253451800577[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:38:14.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128253451800577[0;39m ------------- 结束 耗时：55 ms -------------
2024-12-15 13:38:14.514 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128253451800578[0;39m <==      Total: 17
2024-12-15 13:38:14.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128253451800578[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:38:14.526 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128253451800578[0;39m ------------- 结束 耗时：67 ms -------------
2024-12-15 13:38:22.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128288000282624[0;39m ------------- 开始 -------------
2024-12-15 13:38:22.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128288000282624[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:38:22.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128288000282624[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:38:22.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128288000282624[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:22.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128288000282624[0;39m 请求参数: [{"categoryId2":401,"page":1,"size":1000}]
2024-12-15 13:38:22.723 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128288000282624[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:38:22.724 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128288000282624[0;39m ==> Parameters: 401(Long)
2024-12-15 13:38:22.735 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128288000282624[0;39m <==    Columns: count(0)
2024-12-15 13:38:22.735 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128288000282624[0;39m <==        Row: 1
2024-12-15 13:38:22.735 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128288000282624[0;39m <==      Total: 1
2024-12-15 13:38:22.736 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128288000282624[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:38:22.736 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128288000282624[0;39m ==> Parameters: 401(Long), 1000(Integer)
2024-12-15 13:38:22.744 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128288000282624[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:38:22.744 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128288000282624[0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, http://127.0.0.1:8880/file/image-20220717120448125.png, 2, 12, 1
2024-12-15 13:38:22.745 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128288000282624[0;39m <==      Total: 1
2024-12-15 13:38:22.746 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249128288000282624[0;39m 总行数：1
2024-12-15 13:38:22.746 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249128288000282624[0;39m 总页数：1
2024-12-15 13:38:22.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128288000282624[0;39m 返回结果: {"content":{"list":[{"category1Id":400,"category2Id":401,"cover":"http://127.0.0.1:8880/file/image-20220717120448125.png","description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":2,"id":4,"name":"Mysql 入门教程","viewCount":12,"voteCount":1}],"total":1},"success":true}
2024-12-15 13:38:22.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128288000282624[0;39m ------------- 结束 耗时：50 ms -------------
2024-12-15 13:38:22.778 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:22.778 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2024-12-15 13:38:22.778 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：null
2024-12-15 13:38:22.778 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m                  [0;39m token为空，请求被拦截
2024-12-15 13:38:24.777 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128210040754178[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:24.777 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128210040754178[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2024-12-15 13:38:24.778 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128210040754178[0;39m LogInterceptor 结束
2024-12-15 13:38:24.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128296753795072[0;39m ------------- 开始 -------------
2024-12-15 13:38:24.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128296753795072[0;39m 请求地址: http://127.0.0.1:8880/doc/all/4 GET
2024-12-15 13:38:24.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128296753795072[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:38:24.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128296753795072[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:24.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128296753795072[0;39m 请求参数: [4]
2024-12-15 13:38:24.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128296837681152[0;39m ------------- 开始 -------------
2024-12-15 13:38:24.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128296837681152[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/4 GET
2024-12-15 13:38:24.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128296837681152[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:38:24.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128296837681152[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:24.804 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128296837681152[0;39m 请求参数: [4]
2024-12-15 13:38:24.814 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128296753795072[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:38:24.814 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128296837681152[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:38:24.817 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128253451800576[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:24.817 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128296837681152[0;39m ==> Parameters: 4(Long)
2024-12-15 13:38:24.817 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249128253451800576[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:38:24.817 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128296753795072[0;39m ==> Parameters: 4(Long)
2024-12-15 13:38:24.817 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249128253451800576[0;39m 登录校验开始，token：249127292847132672
2024-12-15 13:38:24.832 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128296837681152[0;39m <==      Total: 0
2024-12-15 13:38:24.834 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128296753795072[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:38:24.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128296837681152[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:24.835 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128296753795072[0;39m <==        Row: 41217789775712256, 4, 0, 恶趣味, 1, 6, 0
2024-12-15 13:38:24.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128296837681152[0;39m ------------- 结束 耗时：32 ms -------------
2024-12-15 13:38:24.836 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128296753795072[0;39m <==        Row: 41217813754548224, 4, 0, ee, 2, 6, 1
2024-12-15 13:38:24.837 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128296753795072[0;39m <==      Total: 2
2024-12-15 13:38:24.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128296753795072[0;39m 返回结果: {"content":[{"ebookId":4,"id":41217789775712256,"name":"恶趣味","parent":0,"sort":1,"viewCount":6,"voteCount":0},{"ebookId":4,"id":41217813754548224,"name":"ee","parent":0,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2024-12-15 13:38:24.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128296753795072[0;39m ------------- 结束 耗时：72 ms -------------
2024-12-15 13:38:24.889 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m249128253451800576[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249127292847132672"}
2024-12-15 13:38:24.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128297202585600[0;39m ------------- 开始 -------------
2024-12-15 13:38:24.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128297202585600[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:38:24.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128297202585600[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:38:24.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128297202585600[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:24.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128297202585600[0;39m 请求参数: [1,4]
2024-12-15 13:38:24.891 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128297202585600[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:38:24.893 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128297202585600[0;39m ==> Parameters: 1(Long), 4(Long)
2024-12-15 13:38:24.903 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128297202585600[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:38:24.903 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128297202585600[0;39m <==        Row: 3, 1, 4, 41217813754548224
2024-12-15 13:38:24.905 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128297202585600[0;39m <==      Total: 1
2024-12-15 13:38:24.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128297202585600[0;39m 返回结果: {"content":{"docId":41217813754548224,"ebookId":4,"id":3,"userId":1},"success":true}
2024-12-15 13:38:24.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128297202585600[0;39m ------------- 结束 耗时：30 ms -------------
2024-12-15 13:38:24.922 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128297202585600[0;39m ------------- LoginInterceptor 结束 耗时：105 ms -------------
2024-12-15 13:38:24.922 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128297202585600[0;39m LogInterceptor 结束
2024-12-15 13:38:24.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128297617821696[0;39m ------------- 开始 -------------
2024-12-15 13:38:24.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128297617821696[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41217789775712256 GET
2024-12-15 13:38:24.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128297617821696[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:38:24.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128297617821696[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:24.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128297617821696[0;39m 请求参数: [41217789775712256]
2024-12-15 13:38:24.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128297626210304[0;39m ------------- 开始 -------------
2024-12-15 13:38:24.991 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128297617821696[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:38:24.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128297626210304[0;39m 请求地址: http://127.0.0.1:8880/doc/all/4 GET
2024-12-15 13:38:24.991 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128297626210304[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:38:24.991 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128297617821696[0;39m ==> Parameters: 41217789775712256(Long)
2024-12-15 13:38:24.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128297626210304[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:24.992 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128297626210304[0;39m 请求参数: [4]
2024-12-15 13:38:24.994 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128297626210304[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:38:24.997 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128297626210304[0;39m ==> Parameters: 4(Long)
2024-12-15 13:38:25.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128297617821696[0;39m <==    Columns: id, content
2024-12-15 13:38:25.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128297617821696[0;39m <==        Row: 41217789775712256, <<BLOB>>
2024-12-15 13:38:25.005 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128297617821696[0;39m <==      Total: 1
2024-12-15 13:38:25.006 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128297626210304[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:38:25.006 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128297626210304[0;39m <==        Row: 41217789775712256, 4, 0, 恶趣味, 1, 6, 0
2024-12-15 13:38:25.006 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128297626210304[0;39m <==        Row: 41217813754548224, 4, 0, ee, 2, 6, 1
2024-12-15 13:38:25.007 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128297617821696[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:38:25.007 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128297626210304[0;39m <==      Total: 2
2024-12-15 13:38:25.007 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128297617821696[0;39m ==> Parameters: 41217789775712256(Long)
2024-12-15 13:38:25.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128297626210304[0;39m 返回结果: {"content":[{"ebookId":4,"id":41217789775712256,"name":"恶趣味","parent":0,"sort":1,"viewCount":6,"voteCount":0},{"ebookId":4,"id":41217813754548224,"name":"ee","parent":0,"sort":2,"viewCount":6,"voteCount":1}],"success":true}
2024-12-15 13:38:25.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128297626210304[0;39m ------------- 结束 耗时：16 ms -------------
2024-12-15 13:38:25.033 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128297617821696[0;39m <==    Updates: 1
2024-12-15 13:38:25.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128297617821696[0;39m 返回结果: {"content":"","success":true}
2024-12-15 13:38:25.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128297617821696[0;39m ------------- 结束 耗时：45 ms -------------
2024-12-15 13:38:25.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128297911422976[0;39m ------------- 开始 -------------
2024-12-15 13:38:25.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128297911422976[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41217813754548224 GET
2024-12-15 13:38:25.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128297911422976[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:38:25.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128297911422976[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:25.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128297911422976[0;39m 请求参数: [41217813754548224]
2024-12-15 13:38:25.061 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128297911422976[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:38:25.062 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128297911422976[0;39m ==> Parameters: 41217813754548224(Long)
2024-12-15 13:38:25.072 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128297911422976[0;39m <==    Columns: id, content
2024-12-15 13:38:25.073 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128297911422976[0;39m <==        Row: 41217813754548224, <<BLOB>>
2024-12-15 13:38:25.073 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128297911422976[0;39m <==      Total: 1
2024-12-15 13:38:25.075 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128297911422976[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:38:25.075 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128297911422976[0;39m ==> Parameters: 41217813754548224(Long)
2024-12-15 13:38:25.099 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128297911422976[0;39m <==    Updates: 1
2024-12-15 13:38:25.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128297911422976[0;39m 返回结果: {"content":"","success":true}
2024-12-15 13:38:25.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128297911422976[0;39m ------------- 结束 耗时：42 ms -------------
2024-12-15 13:38:26.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128305368895488[0;39m ------------- 开始 -------------
2024-12-15 13:38:26.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128305368895488[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41217813754548224 GET
2024-12-15 13:38:26.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128305368895488[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:38:26.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128305368895488[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:26.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128305368895488[0;39m 请求参数: [41217813754548224]
2024-12-15 13:38:26.850 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m249128305368895488[0;39m key不存在，放入：DOC_VOTE_41217813754548224_127.0.0.1，过期 5000 秒
2024-12-15 13:38:26.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128305368895488[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-15 13:38:26.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128305368895488[0;39m ==> Parameters: 41217813754548224(Long)
2024-12-15 13:38:26.890 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128305368895488[0;39m <==    Updates: 1
2024-12-15 13:38:26.891 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128305368895488[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-15 13:38:26.892 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128305368895488[0;39m ==> Parameters: 41217813754548224(Long)
2024-12-15 13:38:26.900 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128305368895488[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:38:26.900 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128305368895488[0;39m <==        Row: 41217813754548224, 4, 0, ee, 2, 7, 2
2024-12-15 13:38:26.901 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128305368895488[0;39m <==      Total: 1
2024-12-15 13:38:26.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128305368895488[0;39m 返回结果: {"success":true}
2024-12-15 13:38:26.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128305368895488[0;39m ------------- 结束 耗时：66 ms -------------
2024-12-15 13:38:42.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128370380607488[0;39m ------------- 开始 -------------
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128370384801792[0;39m ------------- 开始 -------------
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128370384801793[0;39m ------------- 开始 -------------
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128370384801794[0;39m ------------- 开始 -------------
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128370380607488[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128370384801792[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128370384801793[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:38:42.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128370384801794[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128370380607488[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128370384801792[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128370384801793[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128370384801794[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128370380607488[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128370384801792[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128370384801793[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128370384801794[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128370380607488[0;39m 请求参数: []
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128370384801792[0;39m 请求参数: []
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128370384801793[0;39m 请求参数: []
2024-12-15 13:38:42.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128370384801794[0;39m 请求参数: []
2024-12-15 13:38:42.348 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128370384801794[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:38:42.348 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128370380607488[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:38:42.349 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128370380607488[0;39m ==> Parameters: 
2024-12-15 13:38:42.349 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128370384801794[0;39m ==> Parameters: 
2024-12-15 13:38:42.349 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249128370384801792[0;39m 访问Redis
2024-12-15 13:38:42.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128370384801792[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:42.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128370384801792[0;39m ------------- 结束 耗时：11 ms -------------
2024-12-15 13:38:42.349 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128370384801793[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:38:42.350 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128370384801793[0;39m ==> Parameters: 
2024-12-15 13:38:42.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:38:42.357 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:38:42.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:38:42.358 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:38:42.359 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:38:42.359 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:38:42.359 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:38:42.359 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:38:42.359 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 1, Spring Boot 入门教程, 928, 59.76
2024-12-15 13:38:42.359 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:38:42.360 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 2, Vue 入门教程, 233, 15.00
2024-12-15 13:38:42.360 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:38:42.360 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:38:42.360 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:38:42.360 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:38:42.361 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:38:42.360 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:38:42.361 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:38:42.362 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:38:42.361 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:38:42.361 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:38:42.362 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.65
2024-12-15 13:38:42.362 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:38:42.363 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.82
2024-12-15 13:38:42.363 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:38:42.363 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128370384801793[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:38:42.363 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:38:42.363 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:38:42.363 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128370384801793[0;39m <==      Total: 8
2024-12-15 13:38:42.363 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:38:42.364 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:38:42.364 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:38:42.364 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128370384801794[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:38:42.364 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128370384801794[0;39m <==      Total: 17
2024-12-15 13:38:42.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128370384801793[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.76,"viewCount":928},{"id":2,"name":"Vue 入门教程","percentage":15.0,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.65,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:38:42.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128370384801793[0;39m ------------- 结束 耗时：26 ms -------------
2024-12-15 13:38:42.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128370384801794[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:38:42.365 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:38:42.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128370384801794[0;39m ------------- 结束 耗时：27 ms -------------
2024-12-15 13:38:42.365 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:38:42.365 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:38:42.366 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128370380607488[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:38:42.366 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128370380607488[0;39m <==      Total: 8
2024-12-15 13:38:42.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128370380607488[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:38:42.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128370380607488[0;39m ------------- 结束 耗时：30 ms -------------
2024-12-15 13:38:43.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128374465859584[0;39m ------------- 开始 -------------
2024-12-15 13:38:43.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128374465859584[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:38:43.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128374465859584[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:38:43.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128374465859584[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:43.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128374465859584[0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2024-12-15 13:38:43.337 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128374465859584[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:38:43.338 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128374465859584[0;39m ==> Parameters: 504(Long)
2024-12-15 13:38:43.348 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128374465859584[0;39m <==    Columns: count(0)
2024-12-15 13:38:43.348 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128374465859584[0;39m <==        Row: 1
2024-12-15 13:38:43.348 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128374465859584[0;39m <==      Total: 1
2024-12-15 13:38:43.349 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128374465859584[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:38:43.349 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128374465859584[0;39m ==> Parameters: 504(Long), 1000(Integer)
2024-12-15 13:38:43.359 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128374465859584[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:38:43.359 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128374465859584[0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 168, 23
2024-12-15 13:38:43.360 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128374465859584[0;39m <==      Total: 1
2024-12-15 13:38:43.360 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249128374465859584[0;39m 总行数：1
2024-12-15 13:38:43.360 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249128374465859584[0;39m 总页数：1
2024-12-15 13:38:43.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128374465859584[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":168,"voteCount":23}],"total":1},"success":true}
2024-12-15 13:38:43.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128374465859584[0;39m ------------- 结束 耗时：50 ms -------------
2024-12-15 13:38:43.383 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128297617821696[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:43.383 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249128297617821696[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2024-12-15 13:38:43.383 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249128297617821696[0;39m 登录校验开始，token：null
2024-12-15 13:38:43.385 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m249128297617821696[0;39m token为空，请求被拦截
2024-12-15 13:38:44.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128377909383168[0;39m ------------- 开始 -------------
2024-12-15 13:38:44.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128377909383168[0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2024-12-15 13:38:44.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128377909383168[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:38:44.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128377909383168[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:44.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128377909383168[0;39m 请求参数: [7]
2024-12-15 13:38:44.139 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128246279540736[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:44.141 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128246279540736[0;39m ------------- LoginInterceptor 结束 耗时：2 ms -------------
2024-12-15 13:38:44.142 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128246279540736[0;39m LogInterceptor 结束
2024-12-15 13:38:44.143 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128377909383168[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:38:44.143 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128377909383168[0;39m ==> Parameters: 7(Long)
2024-12-15 13:38:44.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128377980686336[0;39m ------------- 开始 -------------
2024-12-15 13:38:44.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128377980686336[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/7 GET
2024-12-15 13:38:44.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128377980686336[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:38:44.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128377980686336[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:44.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128377909383168[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:38:44.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128377909383168[0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 79, 6
2024-12-15 13:38:44.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128377980686336[0;39m 请求参数: [7]
2024-12-15 13:38:44.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128377909383168[0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 38, 8
2024-12-15 13:38:44.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128377909383168[0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 23, 4
2024-12-15 13:38:44.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128377909383168[0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 14, 2
2024-12-15 13:38:44.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128377909383168[0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 14, 3
2024-12-15 13:38:44.152 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128377909383168[0;39m <==      Total: 5
2024-12-15 13:38:44.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128377909383168[0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":79,"voteCount":6},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":38,"voteCount":8},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":23,"voteCount":4},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":14,"voteCount":3}],"success":true}
2024-12-15 13:38:44.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128377909383168[0;39m ------------- 结束 耗时：24 ms -------------
2024-12-15 13:38:44.159 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128377909383168[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:38:44.159 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249128377909383168[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:38:44.159 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249128377909383168[0;39m 登录校验开始，token：249127292847132672
2024-12-15 13:38:44.161 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128377980686336[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:38:44.161 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128377980686336[0;39m ==> Parameters: 7(Long)
2024-12-15 13:38:44.170 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128377980686336[0;39m <==      Total: 0
2024-12-15 13:38:44.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128377980686336[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:38:44.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128377980686336[0;39m ------------- 结束 耗时：22 ms -------------
2024-12-15 13:38:44.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m249128377909383168[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249127292847132672"}
2024-12-15 13:38:44.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128378102321152[0;39m ------------- 开始 -------------
2024-12-15 13:38:44.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128378102321152[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:38:44.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128378102321152[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:38:44.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128378102321152[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:44.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128378102321152[0;39m 请求参数: [1,7]
2024-12-15 13:38:44.180 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128378102321152[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:38:44.181 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128378102321152[0;39m ==> Parameters: 1(Long), 7(Long)
2024-12-15 13:38:44.188 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128378102321152[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:38:44.189 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128378102321152[0;39m <==        Row: 5, 1, 7, 41261844488392704
2024-12-15 13:38:44.189 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128378102321152[0;39m <==      Total: 1
2024-12-15 13:38:44.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128378102321152[0;39m 返回结果: {"content":{"docId":41261844488392704,"ebookId":7,"id":5,"userId":1},"success":true}
2024-12-15 13:38:44.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128378102321152[0;39m ------------- 结束 耗时：23 ms -------------
2024-12-15 13:38:44.202 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128378102321152[0;39m ------------- LoginInterceptor 结束 耗时：43 ms -------------
2024-12-15 13:38:44.202 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128378102321152[0;39m LogInterceptor 结束
2024-12-15 13:38:44.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128378219761664[0;39m ------------- 开始 -------------
2024-12-15 13:38:44.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128378219761664[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260598448754688 GET
2024-12-15 13:38:44.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128378219761664[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:38:44.206 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128378219761664[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:44.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128378219761664[0;39m 请求参数: [41260598448754688]
2024-12-15 13:38:44.218 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128378219761664[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:38:44.219 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128378219761664[0;39m ==> Parameters: 41260598448754688(Long)
2024-12-15 13:38:44.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128378274287616[0;39m ------------- 开始 -------------
2024-12-15 13:38:44.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128378274287616[0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2024-12-15 13:38:44.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128378274287616[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:38:44.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128378274287616[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:44.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128378274287616[0;39m 请求参数: [7]
2024-12-15 13:38:44.221 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128378274287616[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:38:44.221 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128378274287616[0;39m ==> Parameters: 7(Long)
2024-12-15 13:38:44.231 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128378274287616[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:38:44.231 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128378274287616[0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 79, 6
2024-12-15 13:38:44.231 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128378219761664[0;39m <==    Columns: id, content
2024-12-15 13:38:44.231 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128378274287616[0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 38, 8
2024-12-15 13:38:44.231 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128378219761664[0;39m <==        Row: 41260598448754688, <<BLOB>>
2024-12-15 13:38:44.233 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128378274287616[0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 23, 4
2024-12-15 13:38:44.233 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128378219761664[0;39m <==      Total: 1
2024-12-15 13:38:44.234 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128378274287616[0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 14, 2
2024-12-15 13:38:44.234 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128378274287616[0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 14, 3
2024-12-15 13:38:44.234 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128378219761664[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:38:44.234 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128378274287616[0;39m <==      Total: 5
2024-12-15 13:38:44.235 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128378219761664[0;39m ==> Parameters: 41260598448754688(Long)
2024-12-15 13:38:44.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128378274287616[0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":79,"voteCount":6},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":38,"voteCount":8},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":23,"voteCount":4},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":14,"voteCount":3}],"success":true}
2024-12-15 13:38:44.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128378274287616[0;39m ------------- 结束 耗时：16 ms -------------
2024-12-15 13:38:44.263 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128378219761664[0;39m <==    Updates: 1
2024-12-15 13:38:44.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128378219761664[0;39m 返回结果: {"content":"<p>防抖（Debounce）和节流（Throttle）是在 JavaScript 中常见的两种优化策略，它们的主要目的是控制函数的执行频率。这两种策略在处理一些高频率事件（如滚动、输入、点击等）时非常有用，可以帮助我们避免因为频繁的函数执行而导致的性能问题。<br></p>","success":true}
2024-12-15 13:38:44.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128378219761664[0;39m ------------- 结束 耗时：58 ms -------------
2024-12-15 13:38:44.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128378504974336[0;39m ------------- 开始 -------------
2024-12-15 13:38:44.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128378504974336[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41261844488392704 GET
2024-12-15 13:38:44.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128378504974336[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:38:44.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128378504974336[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:44.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128378504974336[0;39m 请求参数: [41261844488392704]
2024-12-15 13:38:44.276 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128378504974336[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:38:44.279 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128378504974336[0;39m ==> Parameters: 41261844488392704(Long)
2024-12-15 13:38:44.290 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128378504974336[0;39m <==    Columns: id, content
2024-12-15 13:38:44.290 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128378504974336[0;39m <==        Row: 41261844488392704, <<BLOB>>
2024-12-15 13:38:44.291 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128378504974336[0;39m <==      Total: 1
2024-12-15 13:38:44.292 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128378504974336[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:38:44.292 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128378504974336[0;39m ==> Parameters: 41261844488392704(Long)
2024-12-15 13:38:44.313 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128378504974336[0;39m <==    Updates: 1
2024-12-15 13:38:44.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128378504974336[0;39m 返回结果: {"content":"<h1 id=\"hh0ah\">直接说我们的一个实战应用需求：</h1><h2 id=\"gtq2e\">&nbsp; &nbsp;目前我们需要保存用户的最后一次退出页面的文档记录，但是我们不能每次都一直执行，如果用户一直点文档的话，会造成我们的一个性能损耗，所以我们需要有这么一个防抖策略</h2><p>&nbsp; &nbsp;<b> 1. 定义一个值<span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\">let timeoutId: number | undefined; // 这是一个全局变量，用于储存当前的定时器ID</span></b></p><p><span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\"><b>&nbsp; 2.设置一个防抖方法</b></span></p><p><b><span style=\"font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 1em;\">&nbsp; &nbsp;</span>const debounceSaveDoc = () =&gt; {</b></p><b>&nbsp; &nbsp; &nbsp;clearTimeout(timeoutId)// 如果已有定时器，清除它<br>&nbsp; &nbsp; &nbsp;// 设定一个新的定时器，在一段时间后再次调用saveDoc函数<br>&nbsp; &nbsp; &nbsp;timeoutId = setTimeout(saveDoc, 3000);<br>&nbsp; &nbsp; &nbsp; }</b><p><b>&nbsp; &nbsp; &nbsp; 3.在应用到他的地方将这个方法替换成debounceSaveDoc&nbsp;</b></p><p><b>&nbsp; &nbsp; &nbsp; &nbsp;const onSelect = (selectedKey: any, info: any) =&gt; {</b></p><b>        if (Tool.isNotEmpty(selectedKey)) {<br>          // 选中某一节点时，加载该节点的文档信息<br>          doc.value = info.selectedNodes[0].props;<br>          // 加载内容<br>          handleQueryContent(selectedKey[0]);<br>          if (store.state.user.id !=null) {<br>            debounceSaveDoc();<br>          }<br>          // 更新选中的节点<br>          defaultSelectedKeys.value = selectedKey;<br>        }<br>      };</b><h1 id=\"m3inf\">&nbsp;总结：这么一来，用户在点击文档后，停留三秒才会去执行saveDocId的方法，减少了性能损耗</h1>","success":true}
2024-12-15 13:38:44.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128378504974336[0;39m ------------- 结束 耗时：41 ms -------------
2024-12-15 13:38:46.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128389846372352[0;39m ------------- 开始 -------------
2024-12-15 13:38:46.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128389846372352[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41261844488392704 GET
2024-12-15 13:38:46.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128389846372352[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:38:46.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128389846372352[0;39m 远程地址: 127.0.0.1
2024-12-15 13:38:46.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128389846372352[0;39m 请求参数: [41261844488392704]
2024-12-15 13:38:46.996 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m249128389846372352[0;39m key不存在，放入：DOC_VOTE_41261844488392704_127.0.0.1，过期 5000 秒
2024-12-15 13:38:47.014 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128389846372352[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-15 13:38:47.014 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128389846372352[0;39m ==> Parameters: 41261844488392704(Long)
2024-12-15 13:38:47.033 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128389846372352[0;39m <==    Updates: 1
2024-12-15 13:38:47.033 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128389846372352[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-15 13:38:47.034 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128389846372352[0;39m ==> Parameters: 41261844488392704(Long)
2024-12-15 13:38:47.041 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128389846372352[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:38:47.041 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128389846372352[0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 39, 9
2024-12-15 13:38:47.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128389846372352[0;39m <==      Total: 1
2024-12-15 13:38:47.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128389846372352[0;39m 返回结果: {"success":true}
2024-12-15 13:38:47.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128389846372352[0;39m ------------- 结束 耗时：67 ms -------------
2024-12-15 13:39:14.794 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128297911422976[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:39:14.795 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128297911422976[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2024-12-15 13:39:14.795 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128297911422976[0;39m LogInterceptor 结束
2024-12-15 13:39:14.801 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128297911422976[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:39:14.801 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249128297911422976[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/249127292847132672
2024-12-15 13:39:14.801 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249128297911422976[0;39m 登录校验开始，token：249127292847132672
2024-12-15 13:39:14.828 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m249128297911422976[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249127292847132672"}
2024-12-15 13:39:14.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128506733236224[0;39m ------------- 开始 -------------
2024-12-15 13:39:14.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128506733236224[0;39m 请求地址: http://127.0.0.1:8880/user/logout/249127292847132672 GET
2024-12-15 13:39:14.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128506733236224[0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2024-12-15 13:39:14.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128506733236224[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:14.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128506733236224[0;39m 请求参数: ["249127292847132672"]
2024-12-15 13:39:14.871 INFO  com.jiawa.wiki.controller.UserController          :110  [32m249128506733236224[0;39m 从redis中删除token: 249127292847132672
2024-12-15 13:39:14.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128506733236224[0;39m 返回结果: {"success":true}
2024-12-15 13:39:14.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128506733236224[0;39m ------------- 结束 耗时：26 ms -------------
2024-12-15 13:39:14.872 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128506733236224[0;39m ------------- LoginInterceptor 结束 耗时：71 ms -------------
2024-12-15 13:39:14.872 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128506733236224[0;39m LogInterceptor 结束
2024-12-15 13:39:14.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128507190415360[0;39m ------------- 开始 -------------
2024-12-15 13:39:14.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128507190415360[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:39:14.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128507190415360[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:39:14.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128507194609664[0;39m ------------- 开始 -------------
2024-12-15 13:39:14.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128507194609664[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:39:14.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128507190415360[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:14.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128507198803968[0;39m ------------- 开始 -------------
2024-12-15 13:39:14.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128507198803969[0;39m ------------- 开始 -------------
2024-12-15 13:39:14.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128507194609664[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:39:14.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128507190415360[0;39m 请求参数: []
2024-12-15 13:39:14.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128507198803968[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:39:14.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128507198803969[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:39:14.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128507194609664[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:14.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128507198803968[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:39:14.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128507198803969[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:39:14.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128507194609664[0;39m 请求参数: []
2024-12-15 13:39:14.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128507198803968[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:14.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128507198803969[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:14.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128507198803968[0;39m 请求参数: []
2024-12-15 13:39:14.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128507198803969[0;39m 请求参数: []
2024-12-15 13:39:14.980 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128507194609664[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:39:14.982 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128507194609664[0;39m ==> Parameters: 
2024-12-15 13:39:14.985 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249128507190415360[0;39m 访问Redis
2024-12-15 13:39:14.995 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128507198803968[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:39:14.996 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128507198803968[0;39m ==> Parameters: 
2024-12-15 13:39:14.996 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128507198803969[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:39:14.996 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:39:14.996 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128507198803969[0;39m ==> Parameters: 
2024-12-15 13:39:14.996 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 1, Spring Boot 入门教程, 928, 59.76
2024-12-15 13:39:14.996 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 2, Vue 入门教程, 233, 15.00
2024-12-15 13:39:14.997 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:39:14.997 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:39:14.997 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:39:14.997 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.65
2024-12-15 13:39:14.997 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.82
2024-12-15 13:39:14.998 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128507194609664[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:39:14.998 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128507194609664[0;39m <==      Total: 8
2024-12-15 13:39:14.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128507194609664[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.76,"viewCount":928},{"id":2,"name":"Vue 入门教程","percentage":15.0,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.65,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:39:14.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128507194609664[0;39m ------------- 结束 耗时：42 ms -------------
2024-12-15 13:39:15.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249128507190415360[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:39:15.011 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:39:15.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249128507190415360[0;39m ==> Parameters: 
2024-12-15 13:39:15.011 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:39:15.010 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:39:15.011 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:39:15.011 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:39:15.011 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:39:15.012 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:39:15.012 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:39:15.012 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:39:15.012 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:39:15.012 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:39:15.012 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:39:15.012 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:39:15.012 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:39:15.012 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:39:15.013 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:39:15.013 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:39:15.013 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:39:15.013 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:39:15.013 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:39:15.013 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:39:15.013 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:39:15.013 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:39:15.014 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128507198803968[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:39:15.014 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:39:15.017 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:39:15.017 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128507198803969[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:39:15.018 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128507198803969[0;39m <==      Total: 17
2024-12-15 13:39:15.018 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128507198803968[0;39m <==      Total: 8
2024-12-15 13:39:15.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128507198803969[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:39:15.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128507198803969[0;39m ------------- 结束 耗时：62 ms -------------
2024-12-15 13:39:15.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128507198803968[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:39:15.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128507198803968[0;39m ------------- 结束 耗时：63 ms -------------
2024-12-15 13:39:15.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249128507190415360[0;39m <==      Total: 0
2024-12-15 13:39:15.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128507190415360[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:39:15.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128507190415360[0;39m ------------- 结束 耗时：91 ms -------------
2024-12-15 13:39:18.471 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【XF0bN8li2j】连接成功
2024-12-15 13:39:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128521979531264[0;39m ------------- 开始 -------------
2024-12-15 13:39:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128521979531264[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:39:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128521979531264[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:39:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128521979531264[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128521979531264[0;39m 请求参数: []
2024-12-15 13:39:18.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128521992114176[0;39m ------------- 开始 -------------
2024-12-15 13:39:18.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128521992114176[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:39:18.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128521992114176[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:39:18.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128521992114176[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:18.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128521992114176[0;39m 请求参数: []
2024-12-15 13:39:18.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128522013085696[0;39m ------------- 开始 -------------
2024-12-15 13:39:18.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128522013085696[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:39:18.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128522013085696[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:39:18.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128522013085696[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:18.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128522013085696[0;39m 请求参数: []
2024-12-15 13:39:18.498 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128521992114176[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:39:18.499 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128521992114176[0;39m ==> Parameters: 
2024-12-15 13:39:18.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128522071805952[0;39m ------------- 开始 -------------
2024-12-15 13:39:18.513 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128522013085696[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:39:18.513 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:39:18.503 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249128521979531264[0;39m 访问Redis
2024-12-15 13:39:18.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128521979531264[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:39:18.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128522071805952[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:39:18.562 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:39:18.562 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128522013085696[0;39m ==> Parameters: 
2024-12-15 13:39:18.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128521979531264[0;39m ------------- 结束 耗时：82 ms -------------
2024-12-15 13:39:18.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128522071805952[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:39:18.566 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:39:18.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128522071805952[0;39m 远程地址: 127.0.0.1
2024-12-15 13:39:18.567 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:39:18.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128522071805952[0;39m 请求参数: []
2024-12-15 13:39:18.569 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:39:18.570 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:39:18.571 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:39:18.571 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:39:18.573 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128521992114176[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:39:18.573 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128521992114176[0;39m <==      Total: 8
2024-12-15 13:39:18.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128521992114176[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:39:18.576 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:39:18.577 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 1, Spring Boot 入门教程, 928, 59.76
2024-12-15 13:39:18.577 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 2, Vue 入门教程, 233, 15.00
2024-12-15 13:39:18.577 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:39:18.578 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.77
2024-12-15 13:39:18.579 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:39:18.579 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.65
2024-12-15 13:39:18.580 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.82
2024-12-15 13:39:18.581 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128522013085696[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:39:18.581 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128522013085696[0;39m <==      Total: 8
2024-12-15 13:39:18.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128522013085696[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.76,"viewCount":928},{"id":2,"name":"Vue 入门教程","percentage":15.0,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.77,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.65,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:39:18.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128522013085696[0;39m ------------- 结束 耗时：93 ms -------------
2024-12-15 13:39:18.584 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128522071805952[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:39:18.585 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128522071805952[0;39m ==> Parameters: 
2024-12-15 13:39:18.585 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128521992114176[0;39m ------------- 结束 耗时：90 ms -------------
2024-12-15 13:39:18.596 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:39:18.597 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:39:18.597 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:39:18.597 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:39:18.598 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:39:18.600 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:39:18.602 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:39:18.602 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:39:18.603 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:39:18.603 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:39:18.603 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:39:18.603 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:39:18.607 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:39:18.608 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:39:18.608 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:39:18.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:39:18.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:39:18.609 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128522071805952[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:39:18.609 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128522071805952[0;39m <==      Total: 17
2024-12-15 13:39:18.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128522071805952[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:39:18.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128522071805952[0;39m ------------- 结束 耗时：107 ms -------------
2024-12-15 13:40:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m249128696127033344[0;39m 生成今日电子书快照开始
2024-12-15 13:40:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m249128696127033344[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2024-12-15 13:40:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m249128696127033344[0;39m ==> Parameters: 
2024-12-15 13:40:00.042 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m249128696127033344[0;39m <==    Updates: 8
2024-12-15 13:40:00.043 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m249128696127033344[0;39m 生成今日电子书快照结束，耗时：41毫秒
2024-12-15 13:40:00.043 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249128696303194112[0;39m 更新电子书下的文档数据开始
2024-12-15 13:40:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249128696303194112[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:40:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249128696303194112[0;39m ==> Parameters: 
2024-12-15 13:40:00.064 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249128696303194112[0;39m <==    Updates: 5
2024-12-15 13:40:00.065 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249128696303194112[0;39m 更新电子书下的文档数据结束，耗时：22毫秒
2024-12-15 13:40:01.804 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-15 13:40:01.810 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-15 13:40:01.812 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-15 13:40:01.815 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-15 13:40:02.785 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.command.RedisExecutor.execute(RedisExecutor.java:129)
	at org.redisson.command.CommandAsyncService.async(CommandAsyncService.java:622)
	at org.redisson.command.CommandAsyncService.writeAsync(CommandAsyncService.java:578)
	at org.redisson.RedissonBlockingQueue.pollAsync(RedissonBlockingQueue.java:97)
	at org.redisson.RedissonBlockingQueue.poll(RedissonBlockingQueue.java:106)
	at com.jiawa.wiki.task.QueueTaskConfig.lambda$queueTask$2(QueueTaskConfig.java:57)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-15 13:40:08.213 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-15 13:40:08.218 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 8288 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-15 13:40:08.221 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-15 13:40:08.325 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-15 13:40:08.325 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-15 13:40:09.690 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-15 13:40:09.692 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-15 13:40:09.739 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2024-12-15 13:40:10.946 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-15 13:40:10.962 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-15 13:40:10.962 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-15 13:40:10.962 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-15 13:40:11.143 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-15 13:40:11.146 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2819 ms
2024-12-15 13:40:11.701 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-15 13:40:12.291 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-15 13:40:12.646 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:40:13.193 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-15 13:40:14.644 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-15 13:40:15.643 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-15 13:40:15.724 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-15 13:40:15.732 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-15 13:40:15.852 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0xe9d41fdd]'
2024-12-15 13:40:15.868 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-15 13:40:15.881 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-15 13:40:15.901 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 8.524 seconds (JVM running for 10.366)
2024-12-15 13:40:15.907 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-15 13:40:15.908 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-15 13:40:16.077 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-15 13:40:16.077 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-15 13:40:16.079 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2024-12-15 13:40:16.113 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2024-12-15 13:40:16.797 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2024-12-15 13:40:22.155 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【5Q0zTmcQlD】连接成功
2024-12-15 13:40:22.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128789999751168[0;39m ------------- 开始 -------------
2024-12-15 13:40:22.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128789999751171[0;39m ------------- 开始 -------------
2024-12-15 13:40:22.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128789999751170[0;39m ------------- 开始 -------------
2024-12-15 13:40:22.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128789999751169[0;39m ------------- 开始 -------------
2024-12-15 13:40:22.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128789999751170[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-15 13:40:22.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128789999751168[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-15 13:40:22.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128789999751171[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-15 13:40:22.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128789999751170[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-15 13:40:22.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128789999751170[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:22.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128789999751171[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-15 13:40:22.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128789999751169[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-15 13:40:22.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128789999751171[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:22.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128789999751168[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-15 13:40:22.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128789999751169[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-15 13:40:22.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128789999751168[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:22.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128789999751169[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128789999751171[0;39m 请求参数: []
2024-12-15 13:40:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128789999751168[0;39m 请求参数: []
2024-12-15 13:40:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128789999751169[0;39m 请求参数: []
2024-12-15 13:40:22.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128789999751170[0;39m 请求参数: []
2024-12-15 13:40:22.490 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m249128789999751170[0;39m 访问Redis
2024-12-15 13:40:22.500 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128789999751169[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-15 13:40:22.500 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128789999751171[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:40:22.509 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249128789999751170[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-15 13:40:22.526 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128789999751169[0;39m ==> Parameters: 
2024-12-15 13:40:22.526 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249128789999751170[0;39m ==> Parameters: 
2024-12-15 13:40:22.526 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128789999751171[0;39m ==> Parameters: 
2024-12-15 13:40:22.529 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128789999751168[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-15 13:40:22.530 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128789999751168[0;39m ==> Parameters: 
2024-12-15 13:40:22.556 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m249128789999751170[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2024-12-15 13:40:22.556 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==    Columns: id, name, view_count, percentage
2024-12-15 13:40:22.556 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-15 13:40:22.557 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 1, Spring Boot 入门教程, 928, 59.60
2024-12-15 13:40:22.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-15 13:40:22.558 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m249128789999751170[0;39m <==        Row: 2024-12-15, 1553, 83, 1553, 83
2024-12-15 13:40:22.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==    Columns: id, parent, name, sort
2024-12-15 13:40:22.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-15 13:40:22.559 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 2, Vue 入门教程, 233, 14.96
2024-12-15 13:40:22.559 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-15 13:40:22.561 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m249128789999751170[0;39m <==      Total: 1
2024-12-15 13:40:22.561 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-15 13:40:22.561 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 4, Mysql 入门教程, 14, 0.90
2024-12-15 13:40:22.561 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-15 13:40:22.562 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 6, RocketMq实战基础, 212, 13.62
2024-12-15 13:40:22.562 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 7, JS防抖策略和节流策略, 170, 10.92
2024-12-15 13:40:22.563 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m249128789999751169[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-15 13:40:22.561 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-15 13:40:22.563 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m249128789999751169[0;39m <==      Total: 8
2024-12-15 13:40:22.564 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-15 13:40:22.564 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-15 13:40:22.565 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-15 13:40:22.566 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-15 13:40:22.566 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m249128789999751171[0;39m <==        Row: 2024-12-10, 1546, 76
2024-12-15 13:40:22.567 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m249128789999751171[0;39m <==      Total: 8
2024-12-15 13:40:22.570 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 101, 100, Vue, 101
2024-12-15 13:40:22.570 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-15 13:40:22.571 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-15 13:40:22.571 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 200, 0, Java, 200
2024-12-15 13:40:22.572 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-15 13:40:22.573 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-15 13:40:22.573 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 300, 0, Python, 300
2024-12-15 13:40:22.574 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-15 13:40:22.575 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-15 13:40:22.581 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-15 13:40:22.582 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-15 13:40:22.583 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-15 13:40:22.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 500, 0, 其它, 500
2024-12-15 13:40:22.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-15 13:40:22.585 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-15 13:40:22.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128789999751171[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72},{"date":1733760000000,"viewCount":0,"viewIncrease":1546,"voteCount":0,"voteIncrease":76}],"success":true}
2024-12-15 13:40:22.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128789999751171[0;39m ------------- 结束 耗时：206 ms -------------
2024-12-15 13:40:22.590 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m249128789999751168[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-15 13:40:22.590 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m249128789999751168[0;39m <==      Total: 17
2024-12-15 13:40:22.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128789999751169[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.6,"viewCount":928},{"id":2,"name":"Vue 入门教程","percentage":14.96,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.9,"viewCount":14},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.62,"viewCount":212},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.92,"viewCount":170},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-15 13:40:22.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128789999751169[0;39m ------------- 结束 耗时：219 ms -------------
2024-12-15 13:40:22.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128789999751170[0;39m 返回结果: {"content":[{"date":1734192000000,"viewCount":1553,"viewIncrease":1553,"voteCount":83,"voteIncrease":83}],"success":true}
2024-12-15 13:40:22.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128789999751170[0;39m ------------- 结束 耗时：245 ms -------------
2024-12-15 13:40:22.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128789999751168[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-15 13:40:22.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128789999751168[0;39m ------------- 结束 耗时：258 ms -------------
2024-12-15 13:40:29.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128819632508928[0;39m ------------- 开始 -------------
2024-12-15 13:40:29.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128819632508928[0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2024-12-15 13:40:29.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128819632508928[0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2024-12-15 13:40:29.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128819632508928[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:29.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128819632508928[0;39m 请求参数: [{"loginName":"test"}]
2024-12-15 13:40:29.482 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m249128819632508928[0;39m ==>  Preparing: select id, login_name, `name`, `password`, avatar from user WHERE ( login_name = ? )
2024-12-15 13:40:29.483 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m249128819632508928[0;39m ==> Parameters: test(String)
2024-12-15 13:40:29.494 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m249128819632508928[0;39m <==    Columns: id, login_name, name, password, avatar
2024-12-15 13:40:29.494 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m249128819632508928[0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4, http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png
2024-12-15 13:40:29.495 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m249128819632508928[0;39m <==      Total: 1
2024-12-15 13:40:29.504 INFO  com.jiawa.wiki.controller.UserController          :99   [32m249128819632508928[0;39m 生成单点登录token：249128819871584256，并放入redis中
2024-12-15 13:40:29.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128819632508928[0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"249128819871584256"},"success":true}
2024-12-15 13:40:29.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128819632508928[0;39m ------------- 结束 耗时：70 ms -------------
2024-12-15 13:40:36.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128847679819776[0;39m ------------- 开始 -------------
2024-12-15 13:40:36.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128847679819776[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-15 13:40:36.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128847679819776[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-15 13:40:36.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128847679819776[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:36.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128847679819776[0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2024-12-15 13:40:36.208 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128847679819776[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-15 13:40:36.209 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128847679819776[0;39m ==> Parameters: 202(Long)
2024-12-15 13:40:36.219 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128847679819776[0;39m <==    Columns: count(0)
2024-12-15 13:40:36.221 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m249128847679819776[0;39m <==        Row: 2
2024-12-15 13:40:36.221 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m249128847679819776[0;39m <==      Total: 1
2024-12-15 13:40:36.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128847679819776[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-15 13:40:36.226 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128847679819776[0;39m ==> Parameters: 202(Long), 1000(Integer)
2024-12-15 13:40:36.236 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128847679819776[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-15 13:40:36.238 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128847679819776[0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 928, 39
2024-12-15 13:40:36.238 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m249128847679819776[0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 212, 13
2024-12-15 13:40:36.238 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m249128847679819776[0;39m <==      Total: 2
2024-12-15 13:40:36.239 INFO  com.jiawa.wiki.service.EbookService               :48   [32m249128847679819776[0;39m 总行数：2
2024-12-15 13:40:36.240 INFO  com.jiawa.wiki.service.EbookService               :49   [32m249128847679819776[0;39m 总页数：1
2024-12-15 13:40:36.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128847679819776[0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":928,"voteCount":39},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":212,"voteCount":13}],"total":2},"success":true}
2024-12-15 13:40:36.262 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128847679819776[0;39m ------------- 结束 耗时：128 ms -------------
2024-12-15 13:40:37.637 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:40:37.638 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:40:37.638 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：249128819871584256
2024-12-15 13:40:37.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128853996441600[0;39m ------------- 开始 -------------
2024-12-15 13:40:37.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128853996441600[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/6 GET
2024-12-15 13:40:37.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128853996441600[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:40:37.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128853996441600[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:37.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128853996441600[0;39m 请求参数: [6]
2024-12-15 13:40:37.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128854009024512[0;39m ------------- 开始 -------------
2024-12-15 13:40:37.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128854009024512[0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2024-12-15 13:40:37.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128854009024512[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:40:37.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128854009024512[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:37.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128854009024512[0;39m 请求参数: [6]
2024-12-15 13:40:37.658 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249128819871584256"}
2024-12-15 13:40:37.664 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128853996441600[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:40:37.665 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128853996441600[0;39m ==> Parameters: 6(Long)
2024-12-15 13:40:37.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128854118076416[0;39m ------------- 开始 -------------
2024-12-15 13:40:37.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128854118076416[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:40:37.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128854118076416[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:40:37.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128854118076416[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:37.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128854118076416[0;39m 请求参数: [1,6]
2024-12-15 13:40:37.679 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128854009024512[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:40:37.679 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128853996441600[0;39m <==      Total: 0
2024-12-15 13:40:37.685 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128854009024512[0;39m ==> Parameters: 6(Long)
2024-12-15 13:40:37.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128853996441600[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:40:37.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128853996441600[0;39m ------------- 结束 耗时：46 ms -------------
2024-12-15 13:40:37.688 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128854118076416[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:40:37.689 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128854118076416[0;39m ==> Parameters: 1(Long), 6(Long)
2024-12-15 13:40:37.698 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:40:37.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 115, 3
2024-12-15 13:40:37.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2024-12-15 13:40:37.699 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128854118076416[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:40:37.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2024-12-15 13:40:37.700 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128854118076416[0;39m <==        Row: 2, 1, 6, 39792357465526272
2024-12-15 13:40:37.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 12, 1
2024-12-15 13:40:37.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 8, 0
2024-12-15 13:40:37.700 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128854118076416[0;39m <==      Total: 1
2024-12-15 13:40:37.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 14, 2
2024-12-15 13:40:37.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 40, 4
2024-12-15 13:40:37.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2024-12-15 13:40:37.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854009024512[0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2024-12-15 13:40:37.701 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128854009024512[0;39m <==      Total: 9
2024-12-15 13:40:37.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128854118076416[0;39m 返回结果: {"content":{"docId":39792357465526272,"ebookId":6,"id":2,"userId":1},"success":true}
2024-12-15 13:40:37.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128854118076416[0;39m ------------- 结束 耗时：44 ms -------------
2024-12-15 13:40:37.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128854009024512[0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":115,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":8,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":40,"voteCount":4},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2024-12-15 13:40:37.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128854009024512[0;39m ------------- 结束 耗时：70 ms -------------
2024-12-15 13:40:37.715 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128854118076416[0;39m ------------- LoginInterceptor 结束 耗时：77 ms -------------
2024-12-15 13:40:37.715 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128854118076416[0;39m LogInterceptor 结束
2024-12-15 13:40:37.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128854462009344[0;39m ------------- 开始 -------------
2024-12-15 13:40:37.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128854462009344[0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2024-12-15 13:40:37.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128854462009344[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:40:37.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128854462009344[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:37.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128854462009344[0;39m 请求参数: [6]
2024-12-15 13:40:37.759 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128854462009344[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:40:37.760 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128854462009344[0;39m ==> Parameters: 6(Long)
2024-12-15 13:40:37.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128854508146688[0;39m ------------- 开始 -------------
2024-12-15 13:40:37.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128854508146688[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39790662006214656 GET
2024-12-15 13:40:37.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128854508146688[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:40:37.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128854508146688[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:37.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128854508146688[0;39m 请求参数: [39790662006214656]
2024-12-15 13:40:37.764 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128854508146688[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:40:37.765 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128854508146688[0;39m ==> Parameters: 39790662006214656(Long)
2024-12-15 13:40:37.771 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:40:37.771 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 115, 3
2024-12-15 13:40:37.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2024-12-15 13:40:37.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2024-12-15 13:40:37.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 12, 1
2024-12-15 13:40:37.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 8, 0
2024-12-15 13:40:37.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 14, 2
2024-12-15 13:40:37.774 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 40, 4
2024-12-15 13:40:37.776 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2024-12-15 13:40:37.776 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128854462009344[0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2024-12-15 13:40:37.776 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128854462009344[0;39m <==      Total: 9
2024-12-15 13:40:37.779 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128854508146688[0;39m <==    Columns: id, content
2024-12-15 13:40:37.779 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128854508146688[0;39m <==        Row: 39790662006214656, <<BLOB>>
2024-12-15 13:40:37.780 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128854508146688[0;39m <==      Total: 1
2024-12-15 13:40:37.782 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128854508146688[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:40:37.783 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128854508146688[0;39m ==> Parameters: 39790662006214656(Long)
2024-12-15 13:40:37.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128854462009344[0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":115,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":8,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":40,"voteCount":4},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2024-12-15 13:40:37.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128854462009344[0;39m ------------- 结束 耗时：33 ms -------------
2024-12-15 13:40:37.819 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128854508146688[0;39m <==    Updates: 1
2024-12-15 13:40:37.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128854747222016[0;39m ------------- 开始 -------------
2024-12-15 13:40:37.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128854747222016[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2024-12-15 13:40:37.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128854747222016[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:40:37.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128854508146688[0;39m 返回结果: {"content":"","success":true}
2024-12-15 13:40:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128854508146688[0;39m ------------- 结束 耗时：58 ms -------------
2024-12-15 13:40:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128854747222016[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128854747222016[0;39m 请求参数: [39792357465526272]
2024-12-15 13:40:37.822 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128854747222016[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:40:37.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128854747222016[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:37.841 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128854747222016[0;39m <==    Columns: id, content
2024-12-15 13:40:37.842 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128854747222016[0;39m <==        Row: 39792357465526272, <<BLOB>>
2024-12-15 13:40:37.842 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128854747222016[0;39m <==      Total: 1
2024-12-15 13:40:37.844 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128854747222016[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:40:37.844 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128854747222016[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:37.867 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128854747222016[0;39m <==    Updates: 1
2024-12-15 13:40:37.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128854747222016[0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2024-12-15 13:40:37.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128854747222016[0;39m ------------- 结束 耗时：49 ms -------------
2024-12-15 13:40:40.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128866407387136[0;39m ------------- 开始 -------------
2024-12-15 13:40:40.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128866407387136[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39792357465526272 GET
2024-12-15 13:40:40.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128866407387136[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:40:40.600 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128866407387136[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:40.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128866407387136[0;39m 请求参数: [39792357465526272]
2024-12-15 13:40:40.614 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m249128866407387136[0;39m key不存在，放入：DOC_VOTE_39792357465526272_127.0.0.1，过期 5000 秒
2024-12-15 13:40:40.636 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128866407387136[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-15 13:40:40.638 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128866407387136[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:40.661 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128866407387136[0;39m <==    Updates: 1
2024-12-15 13:40:40.662 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128866407387136[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-15 13:40:40.662 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128866407387136[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:40.673 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128866407387136[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:40:40.674 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128866407387136[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 41, 5
2024-12-15 13:40:40.674 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128866407387136[0;39m <==      Total: 1
2024-12-15 13:40:40.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128866407387136[0;39m 返回结果: {"success":true}
2024-12-15 13:40:40.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128866407387136[0;39m ------------- 结束 耗时：78 ms -------------
2024-12-15 13:40:44.568 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m client【5Q0zTmcQlD】断开连接
2024-12-15 13:40:46.427 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【RSwhOQHRDx】连接成功
2024-12-15 13:40:46.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128891879395328[0;39m ------------- 开始 -------------
2024-12-15 13:40:46.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128891879395328[0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2024-12-15 13:40:46.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128891879395328[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:40:46.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128891879395328[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:46.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128891879395328[0;39m 请求参数: [6]
2024-12-15 13:40:46.681 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m249128853996441600[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-15 13:40:46.682 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m249128853996441600[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-15 13:40:46.682 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m249128853996441600[0;39m 登录校验开始，token：249128819871584256
2024-12-15 13:40:46.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128891921338368[0;39m ------------- 开始 -------------
2024-12-15 13:40:46.682 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128891879395328[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:40:46.683 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128891879395328[0;39m ==> Parameters: 6(Long)
2024-12-15 13:40:46.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128891921338368[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/6 GET
2024-12-15 13:40:46.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128891921338368[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-15 13:40:46.688 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128891921338368[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:46.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128891921338368[0;39m 请求参数: [6]
2024-12-15 13:40:46.695 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m249128853996441600[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"249128819871584256"}
2024-12-15 13:40:46.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:40:46.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128891980058624[0;39m ------------- 开始 -------------
2024-12-15 13:40:46.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 116, 3
2024-12-15 13:40:46.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128891980058624[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-15 13:40:46.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128891980058624[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-15 13:40:46.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2024-12-15 13:40:46.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128891980058624[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:46.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2024-12-15 13:40:46.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 12, 1
2024-12-15 13:40:46.697 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128891921338368[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-15 13:40:46.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128891980058624[0;39m 请求参数: [1,6]
2024-12-15 13:40:46.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 8, 0
2024-12-15 13:40:46.697 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128891921338368[0;39m ==> Parameters: 6(Long)
2024-12-15 13:40:46.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 14, 2
2024-12-15 13:40:46.698 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 41, 5
2024-12-15 13:40:46.698 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2024-12-15 13:40:46.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128891879395328[0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2024-12-15 13:40:46.700 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128891879395328[0;39m <==      Total: 9
2024-12-15 13:40:46.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128891879395328[0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":116,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":8,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":41,"voteCount":5},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2024-12-15 13:40:46.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128891879395328[0;39m ------------- 结束 耗时：29 ms -------------
2024-12-15 13:40:46.701 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128891980058624[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:40:46.703 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128891980058624[0;39m ==> Parameters: 1(Long), 6(Long)
2024-12-15 13:40:46.705 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m249128891921338368[0;39m <==      Total: 0
2024-12-15 13:40:46.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128891921338368[0;39m 返回结果: {"content":[],"success":true}
2024-12-15 13:40:46.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128891921338368[0;39m ------------- 结束 耗时：25 ms -------------
2024-12-15 13:40:46.713 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128891980058624[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:40:46.713 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128891980058624[0;39m <==        Row: 2, 1, 6, 39792357465526272
2024-12-15 13:40:46.714 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128891980058624[0;39m <==      Total: 1
2024-12-15 13:40:46.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128891980058624[0;39m 返回结果: {"content":{"docId":39792357465526272,"ebookId":6,"id":2,"userId":1},"success":true}
2024-12-15 13:40:46.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128891980058624[0;39m ------------- 结束 耗时：29 ms -------------
2024-12-15 13:40:46.726 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m249128891980058624[0;39m ------------- LoginInterceptor 结束 耗时：44 ms -------------
2024-12-15 13:40:46.727 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m249128891980058624[0;39m LogInterceptor 结束
2024-12-15 13:40:46.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128892592427008[0;39m ------------- 开始 -------------
2024-12-15 13:40:46.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128892592427008[0;39m 请求地址: http://127.0.0.1:8880/doc/all/6 GET
2024-12-15 13:40:46.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128892592427008[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-15 13:40:46.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128892592427008[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:46.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128892592427008[0;39m 请求参数: [6]
2024-12-15 13:40:46.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128892605009920[0;39m ------------- 开始 -------------
2024-12-15 13:40:46.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128892605009920[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2024-12-15 13:40:46.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128892605009920[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:40:46.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128892605009920[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:46.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128892605009920[0;39m 请求参数: [39792357465526272]
2024-12-15 13:40:46.857 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128892592427008[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-15 13:40:46.857 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128892605009920[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:40:46.858 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128892605009920[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:46.858 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128892592427008[0;39m ==> Parameters: 6(Long)
2024-12-15 13:40:46.870 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128892605009920[0;39m <==    Columns: id, content
2024-12-15 13:40:46.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:40:46.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39790662006214656, 6, 0, RocketMQ 介绍及基本概念, 0, 116, 3
2024-12-15 13:40:46.871 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128892605009920[0;39m <==        Row: 39792357465526272, <<BLOB>>
2024-12-15 13:40:46.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39790373182246912, 6, 39790373182246912, 介绍, 1, 0, 0
2024-12-15 13:40:46.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39791363037990912, 6, 39790662006214656, 介绍, 1, 7, 3
2024-12-15 13:40:46.871 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128892605009920[0;39m <==      Total: 1
2024-12-15 13:40:46.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39791679196237824, 6, 0, RocketMq在Springboot的基础应用, 1, 12, 1
2024-12-15 13:40:46.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39791879704940544, 6, 39791679196237824, 配置, 1, 8, 0
2024-12-15 13:40:46.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39790797704531968, 6, 39790662006214656, RocketMQ 特点, 2, 14, 2
2024-12-15 13:40:46.873 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128892605009920[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:40:46.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39792357465526272, 6, 39791679196237824, 生产者和消费者（发送端和接受端）, 2, 41, 5
2024-12-15 13:40:46.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 6, 0
2024-12-15 13:40:46.874 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128892605009920[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:46.874 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m249128892592427008[0;39m <==        Row: 39800584710262784, 6, 39791679196237824, 完结, 4, 10, 0
2024-12-15 13:40:46.874 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m249128892592427008[0;39m <==      Total: 9
2024-12-15 13:40:46.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128892592427008[0;39m 返回结果: {"content":[{"ebookId":6,"id":39790662006214656,"name":"RocketMQ 介绍及基本概念","parent":0,"sort":0,"viewCount":116,"voteCount":3},{"ebookId":6,"id":39790373182246912,"name":"介绍","parent":39790373182246912,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":6,"id":39791363037990912,"name":"介绍","parent":39790662006214656,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":6,"id":39791679196237824,"name":"RocketMq在Springboot的基础应用","parent":0,"sort":1,"viewCount":12,"voteCount":1},{"ebookId":6,"id":39791879704940544,"name":"配置","parent":39791679196237824,"sort":1,"viewCount":8,"voteCount":0},{"ebookId":6,"id":39790797704531968,"name":"RocketMQ 特点","parent":39790662006214656,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":6,"id":39792357465526272,"name":"生产者和消费者（发送端和接受端）","parent":39791679196237824,"sort":2,"viewCount":41,"voteCount":5},{"ebookId":6,"id":39794574159384576,"name":"服务端","parent":39791679196237824,"sort":3,"viewCount":6,"voteCount":0},{"ebookId":6,"id":39800584710262784,"name":"完结","parent":39791679196237824,"sort":4,"viewCount":10,"voteCount":0}],"success":true}
2024-12-15 13:40:46.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128892592427008[0;39m ------------- 结束 耗时：33 ms -------------
2024-12-15 13:40:46.899 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128892605009920[0;39m <==    Updates: 1
2024-12-15 13:40:46.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128892605009920[0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2024-12-15 13:40:46.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128892605009920[0;39m ------------- 结束 耗时：56 ms -------------
2024-12-15 13:40:46.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128892865056768[0;39m ------------- 开始 -------------
2024-12-15 13:40:46.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128892865056768[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39792357465526272 GET
2024-12-15 13:40:46.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128892865056768[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:40:46.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128892865056768[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:46.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128892865056768[0;39m 请求参数: [39792357465526272]
2024-12-15 13:40:46.910 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128892865056768[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:40:46.911 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128892865056768[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:46.925 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128892865056768[0;39m <==    Columns: id, content
2024-12-15 13:40:46.926 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128892865056768[0;39m <==        Row: 39792357465526272, <<BLOB>>
2024-12-15 13:40:46.936 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128892865056768[0;39m <==      Total: 1
2024-12-15 13:40:46.937 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128892865056768[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:40:46.937 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128892865056768[0;39m ==> Parameters: 39792357465526272(Long)
2024-12-15 13:40:46.960 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128892865056768[0;39m <==    Updates: 1
2024-12-15 13:40:46.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128892865056768[0;39m 返回结果: {"content":"<p>在应用中导入</p><pre>@Autowired<br>private RocketMQTemplate rocketMQTemplate;</pre><p>并且在代码中直接使用converAndSend方法进行发送</p><p>/**<br>         * 点赞<br>         */<br>        public void vote(Long id) {<br>            // docMapperCust.increaseVoteCount(id);<br>            // 远程IP+doc.id作为key，24小时内不能重复<br>            String ip = RequestContext.getRemoteAddr();<br>            if (redisUtil.validateRepeat(\"DOC_VOTE_\" + id + \"_\" + ip, 5000)) {<br>                docMapperCust.increaseVoteCount(id);<br>            } else {<br>                throw new BusinessException(BusinessExceptionCode.VOTE_REPEAT);<br>            }<br><br>            // 推送消息<br>            Doc docDb = docMapper.selectByPrimaryKey(id);<br>            String logId = MDC.get(\"LOG_ID\");<br>//            wsService.sendInfo(\"【\" + docDb.getName() + \"】被点赞！\", logId);<br>             rocketMQTemplate.convertAndSend(\"VOTE_TOPIC\", \"【\" + docDb.getName() + \"】被点赞！\");<br>        }<br></p>","success":true}
2024-12-15 13:40:46.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128892865056768[0;39m ------------- 结束 耗时：54 ms -------------
2024-12-15 13:40:50.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128906853060608[0;39m ------------- 开始 -------------
2024-12-15 13:40:50.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128906853060608[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39792357465526272 GET
2024-12-15 13:40:50.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128906853060608[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:40:50.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128906853060608[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:50.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128906853060608[0;39m 请求参数: [39792357465526272]
2024-12-15 13:40:50.263 INFO  com.jiawa.wiki.util.RedisUtil                     :34   [32m249128906853060608[0;39m key已存在：DOC_VOTE_39792357465526272_127.0.0.1
2024-12-15 13:40:50.276 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m249128906853060608[0;39m 业务异常：您已点赞过
2024-12-15 13:40:50.278 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m249128906853060608[0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2024-12-15 13:40:52.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128916218941440[0;39m ------------- 开始 -------------
2024-12-15 13:40:52.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128916218941440[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/39794574159384576 GET
2024-12-15 13:40:52.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128916218941440[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-15 13:40:52.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128916218941440[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:52.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128916218941440[0;39m 请求参数: [39794574159384576]
2024-12-15 13:40:52.493 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128916218941440[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-15 13:40:52.494 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128916218941440[0;39m ==> Parameters: 39794574159384576(Long)
2024-12-15 13:40:52.506 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128916218941440[0;39m <==    Columns: id, content
2024-12-15 13:40:52.506 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m249128916218941440[0;39m <==        Row: 39794574159384576, <<BLOB>>
2024-12-15 13:40:52.506 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m249128916218941440[0;39m <==      Total: 1
2024-12-15 13:40:52.508 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128916218941440[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-15 13:40:52.508 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128916218941440[0;39m ==> Parameters: 39794574159384576(Long)
2024-12-15 13:40:52.534 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m249128916218941440[0;39m <==    Updates: 1
2024-12-15 13:40:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128916218941440[0;39m 返回结果: {"content":"<p><h3 id=\"h1asa\">通过注解@RocketMQMessageListener 设置consumerGroup&nbsp;对应的是我们配置文件的consumerGroup&nbsp;，和topic&nbsp;对应的是我们的发送端发送的topic</h3>topic&nbsp;<br> @Service<br> @RocketMQMessageListener(consumerGroup = \"default\", topic = \"VOTE_TOPIC\")<br> public class VoteTopicConsumer implements RocketMQListener&lt;MessageExt&gt; {<br><br>     private static final Logger LOG = LoggerFactory.getLogger(VoteTopicConsumer.class);<br><br>     @Resource<br>     public WebSocketServer webSocketServer;<br><br>     @Override<br>     public void onMessage(MessageExt messageExt) {<br>         byte[] body = messageExt.getBody();<br>         LOG.info(\"ROCKETMQ收到消息：{}\", new String(body));<br>         webSocketServer.sendInfo(new String(body));<br>     }<br> }<br></p>","success":true}
2024-12-15 13:40:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128916218941440[0;39m ------------- 结束 耗时：59 ms -------------
2024-12-15 13:40:54.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128922619449344[0;39m ------------- 开始 -------------
2024-12-15 13:40:54.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128922619449344[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/39794574159384576 GET
2024-12-15 13:40:54.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128922619449344[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-15 13:40:54.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128922619449344[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:54.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128922619449344[0;39m 请求参数: [39794574159384576]
2024-12-15 13:40:54.022 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m249128922619449344[0;39m key不存在，放入：DOC_VOTE_39794574159384576_127.0.0.1，过期 5000 秒
2024-12-15 13:40:54.043 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128922619449344[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-15 13:40:54.045 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128922619449344[0;39m ==> Parameters: 39794574159384576(Long)
2024-12-15 13:40:54.068 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m249128922619449344[0;39m <==    Updates: 1
2024-12-15 13:40:54.068 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128922619449344[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-15 13:40:54.069 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128922619449344[0;39m ==> Parameters: 39794574159384576(Long)
2024-12-15 13:40:54.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128922619449344[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-15 13:40:54.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m249128922619449344[0;39m <==        Row: 39794574159384576, 6, 39791679196237824, 服务端, 3, 7, 1
2024-12-15 13:40:54.081 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m249128922619449344[0;39m <==      Total: 1
2024-12-15 13:40:54.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128922619449344[0;39m 返回结果: {"success":true}
2024-12-15 13:40:54.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128922619449344[0;39m ------------- 结束 耗时：80 ms -------------
2024-12-15 13:40:55.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m249128928801853440[0;39m ------------- 开始 -------------
2024-12-15 13:40:55.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m249128928801853440[0;39m 请求地址: http://127.0.0.1:8880/doc/saveDocrecord POST
2024-12-15 13:40:55.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m249128928801853440[0;39m 类名方法: com.jiawa.wiki.controller.DocController.saveDocrecord
2024-12-15 13:40:55.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m249128928801853440[0;39m 远程地址: 127.0.0.1
2024-12-15 13:40:55.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m249128928801853440[0;39m 请求参数: [{"docId":39794574159384576,"ebookId":6,"userId":1}]
2024-12-15 13:40:55.488 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128928801853440[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-15 13:40:55.488 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128928801853440[0;39m ==> Parameters: 1(Long), 6(Long)
2024-12-15 13:40:55.499 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128928801853440[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-15 13:40:55.499 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m249128928801853440[0;39m <==        Row: 2, 1, 6, 39792357465526272
2024-12-15 13:40:55.499 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m249128928801853440[0;39m <==      Total: 1
2024-12-15 13:40:55.500 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m249128928801853440[0;39m ==>  Preparing: update read_progress set user_id = ?, ebook_id = ?, doc_id = ? where id = ?
2024-12-15 13:40:55.500 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m249128928801853440[0;39m ==> Parameters: 1(Long), 6(Long), 39794574159384576(Long), 2(Long)
2024-12-15 13:40:55.524 DEBUG c.j.w.mapper.ReadProgressMapper.updateByPrimaryKey:137  [32m249128928801853440[0;39m <==    Updates: 1
2024-12-15 13:40:55.534 INFO  com.jiawa.wiki.util.RedisUtil                     :52   [32m249128928801853440[0;39m 保存用户 1 的浏览记录到Redis，docId：39794574159384576，过期时间：86400秒
2024-12-15 13:40:55.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m249128928801853440[0;39m 返回结果: {"content":{"docId":39794574159384576,"ebookId":6,"id":2,"userId":1},"success":true}
2024-12-15 13:40:55.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m249128928801853440[0;39m ------------- 结束 耗时：60 ms -------------
2024-12-15 13:42:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249129199443513344[0;39m 更新电子书下的文档数据开始
2024-12-15 13:42:00.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249129199443513344[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:42:00.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249129199443513344[0;39m ==> Parameters: 
2024-12-15 13:42:00.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249129199443513344[0;39m <==    Updates: 5
2024-12-15 13:42:00.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249129199443513344[0;39m 更新电子书下的文档数据结束，耗时：31毫秒
2024-12-15 13:44:00.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249129702818713600[0;39m 更新电子书下的文档数据开始
2024-12-15 13:44:00.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249129702818713600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:44:00.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249129702818713600[0;39m ==> Parameters: 
2024-12-15 13:44:00.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249129702818713600[0;39m <==    Updates: 5
2024-12-15 13:44:00.049 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249129702818713600[0;39m 更新电子书下的文档数据结束，耗时：34毫秒
2024-12-15 13:46:00.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249130206118416384[0;39m 更新电子书下的文档数据开始
2024-12-15 13:46:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249130206118416384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:46:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249130206118416384[0;39m ==> Parameters: 
2024-12-15 13:46:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249130206118416384[0;39m <==    Updates: 5
2024-12-15 13:46:00.043 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249130206118416384[0;39m 更新电子书下的文档数据结束，耗时：32毫秒
2024-12-15 13:48:00.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249130709418119168[0;39m 更新电子书下的文档数据开始
2024-12-15 13:48:00.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249130709418119168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:48:00.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249130709418119168[0;39m ==> Parameters: 
2024-12-15 13:48:00.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249130709418119168[0;39m <==    Updates: 5
2024-12-15 13:48:00.036 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249130709418119168[0;39m 更新电子书下的文档数据结束，耗时：29毫秒
2024-12-15 13:50:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m249131212759764992[0;39m 更新电子书下的文档数据开始
2024-12-15 13:50:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249131212759764992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-15 13:50:00.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249131212759764992[0;39m ==> Parameters: 
2024-12-15 13:50:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m249131212759764992[0;39m <==    Updates: 5
2024-12-15 13:50:00.054 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m249131212759764992[0;39m 更新电子书下的文档数据结束，耗时：37毫秒
2024-12-15 13:51:56.930 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-15 13:51:56.942 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-15 13:51:56.945 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-15 13:51:56.959 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-15 13:51:57.382 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.command.RedisExecutor.execute(RedisExecutor.java:129)
	at org.redisson.command.CommandAsyncService.async(CommandAsyncService.java:622)
	at org.redisson.command.CommandAsyncService.writeAsync(CommandAsyncService.java:578)
	at org.redisson.RedissonBlockingQueue.pollAsync(RedissonBlockingQueue.java:97)
	at org.redisson.RedissonBlockingQueue.poll(RedissonBlockingQueue.java:106)
	at com.jiawa.wiki.task.QueueTaskConfig.lambda$queueTask$2(QueueTaskConfig.java:57)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
