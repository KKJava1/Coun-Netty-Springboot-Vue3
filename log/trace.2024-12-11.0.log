2024-12-11 00:00:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m247472784928804864[0;39m 生成今日电子书快照开始
2024-12-11 00:00:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m247472784928804864[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2024-12-11 00:00:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m247472784928804864[0;39m ==> Parameters: 
2024-12-11 00:00:00.053 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m247472784928804864[0;39m <==    Updates: 0
2024-12-11 00:00:00.053 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m247472784928804864[0;39m 生成今日电子书快照结束，耗时：37毫秒
2024-12-11 00:00:00.054 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247472785130131456[0;39m 更新电子书下的文档数据开始
2024-12-11 00:00:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247472785130131456[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:00:00.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247472785130131456[0;39m ==> Parameters: 
2024-12-11 00:00:00.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247472785130131456[0;39m <==    Updates: 5
2024-12-11 00:00:00.073 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247472785130131456[0;39m 更新电子书下的文档数据结束，耗时：19毫秒
2024-12-11 00:02:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247473288236896256[0;39m 更新电子书下的文档数据开始
2024-12-11 00:02:00.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247473288236896256[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:02:00.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247473288236896256[0;39m ==> Parameters: 
2024-12-11 00:02:00.039 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247473288236896256[0;39m <==    Updates: 5
2024-12-11 00:02:00.041 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247473288236896256[0;39m 更新电子书下的文档数据结束，耗时：36毫秒
2024-12-11 00:04:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247473791591124992[0;39m 更新电子书下的文档数据开始
2024-12-11 00:04:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247473791591124992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:04:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247473791591124992[0;39m ==> Parameters: 
2024-12-11 00:04:00.044 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247473791591124992[0;39m <==    Updates: 5
2024-12-11 00:04:00.045 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247473791591124992[0;39m 更新电子书下的文档数据结束，耗时：31毫秒
2024-12-11 00:06:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247474294907604992[0;39m 更新电子书下的文档数据开始
2024-12-11 00:06:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247474294907604992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:06:00.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247474294907604992[0;39m ==> Parameters: 
2024-12-11 00:06:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247474294907604992[0;39m <==    Updates: 5
2024-12-11 00:06:00.045 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247474294907604992[0;39m 更新电子书下的文档数据结束，耗时：32毫秒
2024-12-11 00:08:00.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247474798190530560[0;39m 更新电子书下的文档数据开始
2024-12-11 00:08:00.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247474798190530560[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:08:00.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247474798190530560[0;39m ==> Parameters: 
2024-12-11 00:08:00.038 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247474798190530560[0;39m <==    Updates: 5
2024-12-11 00:08:00.038 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247474798190530560[0;39m 更新电子书下的文档数据结束，耗时：33毫秒
2024-12-11 00:10:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247475301527982080[0;39m 更新电子书下的文档数据开始
2024-12-11 00:10:00.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247475301527982080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:10:00.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247475301527982080[0;39m ==> Parameters: 
2024-12-11 00:10:00.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247475301527982080[0;39m <==    Updates: 5
2024-12-11 00:10:00.041 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247475301527982080[0;39m 更新电子书下的文档数据结束，耗时：31毫秒
2024-12-11 00:12:00.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247475804857044992[0;39m 更新电子书下的文档数据开始
2024-12-11 00:12:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247475804857044992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:12:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247475804857044992[0;39m ==> Parameters: 
2024-12-11 00:12:00.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247475804857044992[0;39m <==    Updates: 5
2024-12-11 00:12:00.045 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247475804857044992[0;39m 更新电子书下的文档数据结束，耗时：32毫秒
2024-12-11 00:13:23.402 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-11 00:13:23.403 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-11 00:13:23.409 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-11 00:13:23.411 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-11 00:13:36.480 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 5668 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-11 00:13:36.476 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-11 00:13:36.481 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-11 00:13:36.551 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-11 00:13:36.551 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-11 00:13:37.539 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-11 00:13:37.542 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-11 00:13:37.564 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2024-12-11 00:13:38.199 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-11 00:13:38.208 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-11 00:13:38.208 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-11 00:13:38.208 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-11 00:13:38.285 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-11 00:13:38.286 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1734 ms
2024-12-11 00:13:38.518 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-11 00:13:38.696 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-11 00:13:43.382 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redissonConnectionFactory' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redissonConnectionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisson' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
2024-12-11 00:13:43.384 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Stopping service [Tomcat]
2024-12-11 00:13:43.400 INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener:136  [32m                  [0;39m 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-12-11 00:13:43.426 ERROR org.springframework.boot.SpringApplication        :856  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springMvcConfig': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redissonConnectionFactory' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redissonConnectionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisson' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)
	at com.jiawa.wiki.WikiApplication.main(WikiApplication.java:25)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loginInterceptor': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redissonConnectionFactory' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redissonConnectionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisson' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisTemplate' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redisTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redissonConnectionFactory' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redissonConnectionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisson' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redissonConnectionFactory' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'redissonConnectionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisson' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 51 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisson' defined in class path resource [org/redisson/spring/starter/RedissonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 65 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redisson' threw exception; nested exception is org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)
	... 79 common frames omitted
Caused by: org.redisson.client.RedisConnectionException: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.redisson.connection.MasterSlaveConnectionManager.doConnect(MasterSlaveConnectionManager.java:232)
	at org.redisson.connection.MasterSlaveConnectionManager.connect(MasterSlaveConnectionManager.java:196)
	at org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:220)
	at org.redisson.Redisson.<init>(Redisson.java:71)
	at org.redisson.Redisson.create(Redisson.java:116)
	at org.redisson.spring.starter.RedissonAutoConfiguration.redisson(RedissonAutoConfiguration.java:330)
	at org.redisson.spring.starter.RedissonAutoConfiguration$$EnhancerBySpringCGLIB$$ee446737.CGLIB$redisson$5(<generated>)
	at org.redisson.spring.starter.RedissonAutoConfiguration$$EnhancerBySpringCGLIB$$ee446737$$FastClassBySpringCGLIB$$b880e1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at org.redisson.spring.starter.RedissonAutoConfiguration$$EnhancerBySpringCGLIB$$ee446737.redisson(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 80 common frames omitted
Caused by: java.util.concurrent.ExecutionException: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2096)
	at org.redisson.connection.MasterSlaveConnectionManager.doConnect(MasterSlaveConnectionManager.java:228)
	... 95 common frames omitted
Caused by: org.redisson.client.RedisConnectionException: Unable to connect to Redis server: localhost/127.0.0.1:6379
	at org.redisson.connection.ConnectionsHolder.lambda$createConnection$2(ConnectionsHolder.java:165)
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)
	at org.redisson.connection.ConnectionsHolder.lambda$createConnection$5(ConnectionsHolder.java:179)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)
	at org.redisson.client.RedisClient$1$2.run(RedisClient.java:304)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.util.concurrent.CompletionException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:6379
	at java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:368)
	at java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:377)
	at java.base/java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:1097)
	... 11 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:13:58.512 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 21268 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-11 00:13:58.512 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-11 00:13:58.515 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-11 00:13:58.572 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-11 00:13:58.572 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-11 00:13:59.557 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-11 00:13:59.568 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-11 00:13:59.605 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2024-12-11 00:14:00.423 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-11 00:14:00.438 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-11 00:14:00.438 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-11 00:14:00.438 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-11 00:14:00.532 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-11 00:14:00.534 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1962 ms
2024-12-11 00:14:00.837 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-11 00:14:01.153 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-11 00:14:01.320 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:14:01.850 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:14:03.140 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-11 00:14:03.618 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-11 00:14:03.622 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 12788 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-11 00:14:03.623 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-11 00:14:03.693 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-11 00:14:03.693 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-11 00:14:04.288 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-11 00:14:04.451 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-11 00:14:04.461 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-11 00:14:04.616 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0x6011bc5c]'
2024-12-11 00:14:04.632 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-11 00:14:04.646 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-11 00:14:04.661 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 6.535 seconds (JVM running for 7.362)
2024-12-11 00:14:04.671 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-11 00:14:04.671 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-11 00:14:04.943 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-11 00:14:04.943 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-11 00:14:04.987 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2024-12-11 00:14:05.076 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-11 00:14:05.076 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-11 00:14:05.076 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2024-12-11 00:14:05.076 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2024-12-11 00:14:05.626 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2024-12-11 00:14:06.108 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-11 00:14:06.118 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-11 00:14:06.119 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-11 00:14:06.119 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-11 00:14:06.214 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-11 00:14:06.214 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2521 ms
2024-12-11 00:14:06.561 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-11 00:14:06.757 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-11 00:14:06.996 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:14:07.524 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:14:08.576 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-11 00:14:09.204 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-11 00:14:09.267 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m                  [0;39m Unable to start LiveReload server
2024-12-11 00:14:09.274 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-11 00:14:09.376 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0x338926ab]'
2024-12-11 00:14:09.398 INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener:136  [32m                  [0;39m 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-12-11 00:14:09.415 ERROR org.springframework.boot.SpringApplication        :856  [32m                  [0;39m Application run failed
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:550)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:248)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:14:09.421 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-11 00:14:09.427 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-11 00:14:09.439 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.connection.ServiceManager.lambda$shutdownFutures$2(ServiceManager.java:359)
	at java.base/java.util.concurrent.ConcurrentHashMap$KeySetView.forEach(ConcurrentHashMap.java:4706)
	at java.base/java.util.Collections$SetFromMap.forEach(Collections.java:5700)
	at org.redisson.connection.ServiceManager.shutdownFutures(ServiceManager.java:359)
	at org.redisson.connection.MasterSlaveConnectionManager.shutdown(MasterSlaveConnectionManager.java:508)
	at org.redisson.connection.MasterSlaveConnectionManager.shutdown(MasterSlaveConnectionManager.java:493)
	at org.redisson.Redisson.shutdown(Redisson.java:1122)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:339)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:273)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1152)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1145)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1113)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1082)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1028)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:823)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:336)
	at com.jiawa.wiki.WikiApplication.main(WikiApplication.java:25)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2024-12-11 00:14:15.525 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-11 00:14:15.536 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-11 00:14:15.536 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-11 00:14:15.536 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-11 00:14:15.864 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.command.RedisExecutor.execute(RedisExecutor.java:129)
	at org.redisson.command.CommandAsyncService.async(CommandAsyncService.java:622)
	at org.redisson.command.CommandAsyncService.writeAsync(CommandAsyncService.java:578)
	at org.redisson.RedissonBlockingQueue.pollAsync(RedissonBlockingQueue.java:97)
	at org.redisson.RedissonBlockingQueue.poll(RedissonBlockingQueue.java:106)
	at com.jiawa.wiki.task.QueueTaskConfig.lambda$queueTask$2(QueueTaskConfig.java:57)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:14:20.302 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-11 00:14:20.305 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 4356 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-11 00:14:20.306 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-11 00:14:20.362 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-11 00:14:20.362 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-11 00:14:21.384 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-11 00:14:21.384 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-11 00:14:21.423 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2024-12-11 00:14:22.063 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-11 00:14:22.063 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-11 00:14:22.063 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-11 00:14:22.063 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-11 00:14:22.141 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-11 00:14:22.141 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1779 ms
2024-12-11 00:14:22.371 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-11 00:14:22.554 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-11 00:14:22.707 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:14:23.194 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:14:23.971 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-11 00:14:24.521 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-11 00:14:24.580 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-11 00:14:24.585 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-11 00:14:24.684 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0x7494d3af]'
2024-12-11 00:14:24.695 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-11 00:14:24.706 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-11 00:14:24.721 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.836 seconds (JVM running for 5.773)
2024-12-11 00:14:24.726 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-11 00:14:24.726 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-11 00:14:24.812 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-11 00:14:24.812 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-11 00:14:24.812 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2024-12-11 00:14:24.812 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2024-12-11 00:14:25.293 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2024-12-11 00:14:56.933 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【gxNd5SAXwm】连接成功
2024-12-11 00:14:57.198 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:14:57.211 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-11 00:14:57.213 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：247457385608777728
2024-12-11 00:14:57.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476548091908097[0;39m ------------- 开始 -------------
2024-12-11 00:14:57.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476548091908097[0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2024-12-11 00:14:57.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476548091908097[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:14:57.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476548091908097[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:57.230 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476548091908096[0;39m ------------- 开始 -------------
2024-12-11 00:14:57.231 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476548091908096[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2024-12-11 00:14:57.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476548091908096[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-11 00:14:57.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476548091908096[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:57.253 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"247457385608777728"}
2024-12-11 00:14:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476548091908096[0;39m 请求参数: [2]
2024-12-11 00:14:57.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476548091908097[0;39m 请求参数: [2]
2024-12-11 00:14:57.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476548490366976[0;39m ------------- 开始 -------------
2024-12-11 00:14:57.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476548490366976[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-11 00:14:57.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476548490366976[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-11 00:14:57.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476548490366976[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:57.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476548490366976[0;39m 请求参数: [1,2]
2024-12-11 00:14:57.328 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476548490366976[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-11 00:14:57.328 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476548091908096[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-11 00:14:57.349 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476548091908097[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:14:57.351 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476548490366976[0;39m ==> Parameters: 1(Long), 2(Long)
2024-12-11 00:14:57.351 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476548091908096[0;39m ==> Parameters: 2(Long)
2024-12-11 00:14:57.351 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476548091908097[0;39m ==> Parameters: 2(Long)
2024-12-11 00:14:57.374 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476548490366976[0;39m <==      Total: 0
2024-12-11 00:14:57.374 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476548091908097[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:14:57.375 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476548091908097[0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 232, 7
2024-12-11 00:14:57.375 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476548091908096[0;39m <==      Total: 0
2024-12-11 00:14:57.376 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476548091908097[0;39m <==      Total: 1
2024-12-11 00:14:57.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476548091908096[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:14:57.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476548091908096[0;39m ------------- 结束 耗时：168 ms -------------
2024-12-11 00:14:57.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476548091908097[0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":232,"voteCount":7}],"success":true}
2024-12-11 00:14:57.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476548091908097[0;39m ------------- 结束 耗时：179 ms -------------
2024-12-11 00:14:57.397 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m247476548490366976[0;39m 系统异常：
java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')
	at com.jiawa.wiki.util.RedisUtil.getUserLastReadDoc(RedisUtil.java:62)
	at com.jiawa.wiki.service.ReadProgressService.obrecord(ReadProgressService.java:43)
	at com.jiawa.wiki.controller.DocController.obrecord(DocController.java:45)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$58a0505b.obrecord(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:14:57.411 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m247476548490366976[0;39m Resolved [java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')]
2024-12-11 00:14:57.411 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m247476548490366976[0;39m LogInterceptor 结束
2024-12-11 00:14:57.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476549085958144[0;39m ------------- 开始 -------------
2024-12-11 00:14:57.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476549085958144[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2024-12-11 00:14:57.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476549085958144[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-11 00:14:57.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476549085958144[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:57.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476549085958144[0;39m 请求参数: [38625501966897152]
2024-12-11 00:14:57.455 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247476549085958144[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-11 00:14:57.456 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247476549085958144[0;39m ==> Parameters: 38625501966897152(Long)
2024-12-11 00:14:57.468 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247476549085958144[0;39m <==    Columns: id, content
2024-12-11 00:14:57.468 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247476549085958144[0;39m <==        Row: 38625501966897152, <<BLOB>>
2024-12-11 00:14:57.469 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247476549085958144[0;39m <==      Total: 1
2024-12-11 00:14:57.471 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247476549085958144[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-11 00:14:57.472 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247476549085958144[0;39m ==> Parameters: 38625501966897152(Long)
2024-12-11 00:14:57.491 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247476549085958144[0;39m <==    Updates: 1
2024-12-11 00:14:57.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476549085958144[0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2024-12-11 00:14:57.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476549085958144[0;39m ------------- 结束 耗时：41 ms -------------
2024-12-11 00:14:58.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476554681159680[0;39m ------------- 开始 -------------
2024-12-11 00:14:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476554681159680[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-11 00:14:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476554681159680[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-11 00:14:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476554681159680[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476554685353984[0;39m ------------- 开始 -------------
2024-12-11 00:14:58.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476554681159680[0;39m 请求参数: []
2024-12-11 00:14:58.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476554689548288[0;39m ------------- 开始 -------------
2024-12-11 00:14:58.788 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476554693742592[0;39m ------------- 开始 -------------
2024-12-11 00:14:58.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476554685353984[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-11 00:14:58.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476554689548288[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-11 00:14:58.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476554693742592[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-11 00:14:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476554689548288[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-11 00:14:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476554685353984[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-11 00:14:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476554693742592[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-11 00:14:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476554689548288[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:58.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476554685353984[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:58.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476554693742592[0;39m 远程地址: 127.0.0.1
2024-12-11 00:14:58.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476554685353984[0;39m 请求参数: []
2024-12-11 00:14:58.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476554689548288[0;39m 请求参数: []
2024-12-11 00:14:58.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476554693742592[0;39m 请求参数: []
2024-12-11 00:14:58.805 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476554681159680[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-11 00:14:58.807 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m247476554689548288[0;39m 访问Redis
2024-12-11 00:14:58.807 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476554681159680[0;39m ==> Parameters: 
2024-12-11 00:14:58.809 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476554693742592[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:14:58.809 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476554685353984[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-11 00:14:58.810 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476554693742592[0;39m ==> Parameters: 
2024-12-11 00:14:58.810 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476554685353984[0;39m ==> Parameters: 
2024-12-11 00:14:58.815 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247476554689548288[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:14:58.816 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==    Columns: id, name, view_count, percentage
2024-12-11 00:14:58.816 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247476554689548288[0;39m ==> Parameters: 
2024-12-11 00:14:58.816 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 1, Spring Boot 入门教程, 923, 59.78
2024-12-11 00:14:58.817 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 2, Vue 入门教程, 232, 15.03
2024-12-11 00:14:58.818 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-11 00:14:58.818 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.78
2024-12-11 00:14:58.818 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-11 00:14:58.819 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.60
2024-12-11 00:14:58.819 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 7, JS防抖策略和节流策略, 167, 10.82
2024-12-11 00:14:58.820 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476554681159680[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-11 00:14:58.821 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476554681159680[0;39m <==      Total: 8
2024-12-11 00:14:58.821 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-11 00:14:58.820 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==    Columns: id, parent, name, sort
2024-12-11 00:14:58.822 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-11 00:14:58.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-11 00:14:58.825 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 101, 100, Vue, 101
2024-12-11 00:14:58.825 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m247476554689548288[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2024-12-11 00:14:58.825 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-11 00:14:58.825 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-11 00:14:58.826 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m247476554689548288[0;39m <==        Row: 2024-12-10, 1544, 75, 1544, 75
2024-12-11 00:14:58.827 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-11 00:14:58.827 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-11 00:14:58.827 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247476554689548288[0;39m <==      Total: 1
2024-12-11 00:14:58.827 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-11 00:14:58.827 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 200, 0, Java, 200
2024-12-11 00:14:58.828 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-11 00:14:58.828 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-11 00:14:58.830 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-11 00:14:58.830 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-11 00:14:58.830 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476554693742592[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-11 00:14:58.830 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 300, 0, Python, 300
2024-12-11 00:14:58.831 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476554693742592[0;39m <==      Total: 7
2024-12-11 00:14:58.831 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-11 00:14:58.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476554681159680[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.78,"viewCount":923},{"id":2,"name":"Vue 入门教程","percentage":15.03,"viewCount":232},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.78,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.6,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":167},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-11 00:14:58.832 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-11 00:14:58.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476554681159680[0;39m ------------- 结束 耗时：48 ms -------------
2024-12-11 00:14:58.833 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-11 00:14:58.834 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-11 00:14:58.834 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-11 00:14:58.836 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 500, 0, 其它, 500
2024-12-11 00:14:58.837 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-11 00:14:58.838 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-11 00:14:58.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476554693742592[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72}],"success":true}
2024-12-11 00:14:58.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476554693742592[0;39m ------------- 结束 耗时：53 ms -------------
2024-12-11 00:14:58.841 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476554685353984[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-11 00:14:58.842 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476554685353984[0;39m <==      Total: 17
2024-12-11 00:14:58.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476554689548288[0;39m 返回结果: {"content":[{"date":1733760000000,"viewCount":1544,"viewIncrease":1544,"voteCount":75,"voteIncrease":75}],"success":true}
2024-12-11 00:14:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476554689548288[0;39m ------------- 结束 耗时：63 ms -------------
2024-12-11 00:14:58.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476554685353984[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-11 00:14:58.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476554685353984[0;39m ------------- 结束 耗时：89 ms -------------
2024-12-11 00:15:00.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476561161359360[0;39m ------------- 开始 -------------
2024-12-11 00:15:00.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476561161359360[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:15:00.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476561161359360[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:15:00.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476561161359360[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:00.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476561161359360[0;39m 请求参数: [{"categoryId2":501,"page":1,"size":1000}]
2024-12-11 00:15:00.379 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476561161359360[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:15:00.379 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476561161359360[0;39m ==> Parameters: 501(Long)
2024-12-11 00:15:00.389 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476561161359360[0;39m <==    Columns: count(0)
2024-12-11 00:15:00.389 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476561161359360[0;39m <==        Row: 0
2024-12-11 00:15:00.389 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476561161359360[0;39m <==      Total: 1
2024-12-11 00:15:00.389 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247476561161359360[0;39m 总行数：0
2024-12-11 00:15:00.389 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247476561161359360[0;39m 总页数：0
2024-12-11 00:15:00.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476561161359360[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2024-12-11 00:15:00.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476561161359360[0;39m ------------- 结束 耗时：66 ms -------------
2024-12-11 00:15:02.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476570686623744[0;39m ------------- 开始 -------------
2024-12-11 00:15:02.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476570686623744[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:15:02.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476570686623744[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:15:02.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476570686623744[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:02.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476570686623744[0;39m 请求参数: [{"categoryId2":52447426497351681,"page":1,"size":1000}]
2024-12-11 00:15:02.617 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476570686623744[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:15:02.618 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476570686623744[0;39m ==> Parameters: 52447426497351681(Long)
2024-12-11 00:15:02.627 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476570686623744[0;39m <==    Columns: count(0)
2024-12-11 00:15:02.627 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476570686623744[0;39m <==        Row: 1
2024-12-11 00:15:02.627 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476570686623744[0;39m <==      Total: 1
2024-12-11 00:15:02.627 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476570686623744[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-11 00:15:02.627 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476570686623744[0;39m ==> Parameters: 52447426497351681(Long), 1000(Integer)
2024-12-11 00:15:02.639 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247476570686623744[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-11 00:15:02.639 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247476570686623744[0;39m <==        Row: 52447510677032960, Redis入门到实战, 400, 52447426497351681, null, , 0, 0, 0
2024-12-11 00:15:02.639 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476570686623744[0;39m <==      Total: 1
2024-12-11 00:15:02.639 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247476570686623744[0;39m 总行数：1
2024-12-11 00:15:02.639 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247476570686623744[0;39m 总页数：1
2024-12-11 00:15:02.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476570686623744[0;39m 返回结果: {"content":{"list":[{"category1Id":400,"category2Id":52447426497351681,"cover":"","docCount":0,"id":52447510677032960,"name":"Redis入门到实战","viewCount":0,"voteCount":0}],"total":1},"success":true}
2024-12-11 00:15:02.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476570686623744[0;39m ------------- 结束 耗时：53 ms -------------
2024-12-11 00:15:03.918 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:03.919 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2024-12-11 00:15:03.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476576210522112[0;39m ------------- 开始 -------------
2024-12-11 00:15:03.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476576214716416[0;39m ------------- 开始 -------------
2024-12-11 00:15:03.922 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m                  [0;39m LogInterceptor 结束
2024-12-11 00:15:03.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476576210522112[0;39m 请求地址: http://127.0.0.1:8880/doc/all/52447510677032960 GET
2024-12-11 00:15:03.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476576214716416[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/52447510677032960 GET
2024-12-11 00:15:03.929 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247476554689548288[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:03.930 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m247476554689548288[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-11 00:15:03.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476576210522112[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:15:03.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476576214716416[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-11 00:15:03.932 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m247476554689548288[0;39m 登录校验开始，token：247457385608777728
2024-12-11 00:15:03.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476576210522112[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:03.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476576214716416[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:03.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476576210522112[0;39m 请求参数: [52447510677032960]
2024-12-11 00:15:03.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476576214716416[0;39m 请求参数: [52447510677032960]
2024-12-11 00:15:03.944 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476576210522112[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:15:03.946 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476576210522112[0;39m ==> Parameters: 52447510677032960(Long)
2024-12-11 00:15:03.947 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476576214716416[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-11 00:15:03.949 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476576214716416[0;39m ==> Parameters: 52447510677032960(Long)
2024-12-11 00:15:03.949 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m247476554689548288[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"247457385608777728"}
2024-12-11 00:15:03.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476576340545536[0;39m ------------- 开始 -------------
2024-12-11 00:15:03.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476576340545536[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-11 00:15:03.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476576340545536[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-11 00:15:03.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476576340545536[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:03.950 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476576340545536[0;39m 请求参数: [1,52447510677032960]
2024-12-11 00:15:03.956 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476576210522112[0;39m <==      Total: 0
2024-12-11 00:15:03.956 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476576214716416[0;39m <==      Total: 0
2024-12-11 00:15:03.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476576210522112[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:15:03.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476576214716416[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:15:03.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476576210522112[0;39m ------------- 结束 耗时：39 ms -------------
2024-12-11 00:15:03.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476576214716416[0;39m ------------- 结束 耗时：38 ms -------------
2024-12-11 00:15:03.959 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476576340545536[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-11 00:15:03.959 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476576340545536[0;39m ==> Parameters: 1(Long), 52447510677032960(Long)
2024-12-11 00:15:03.965 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476576340545536[0;39m <==      Total: 0
2024-12-11 00:15:03.973 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m247476576340545536[0;39m 系统异常：
java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')
	at com.jiawa.wiki.util.RedisUtil.getUserLastReadDoc(RedisUtil.java:62)
	at com.jiawa.wiki.service.ReadProgressService.obrecord(ReadProgressService.java:43)
	at com.jiawa.wiki.controller.DocController.obrecord(DocController.java:45)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$58a0505b.obrecord(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:15:03.978 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m247476576340545536[0;39m Resolved [java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')]
2024-12-11 00:15:03.978 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m247476576340545536[0;39m LogInterceptor 结束
2024-12-11 00:15:06.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476586297823232[0;39m ------------- 开始 -------------
2024-12-11 00:15:06.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476586297823233[0;39m ------------- 开始 -------------
2024-12-11 00:15:06.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476586302017536[0;39m ------------- 开始 -------------
2024-12-11 00:15:06.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476586297823232[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-11 00:15:06.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476586297823233[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-11 00:15:06.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476586306211840[0;39m ------------- 开始 -------------
2024-12-11 00:15:06.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476586302017536[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-11 00:15:06.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476586297823232[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-11 00:15:06.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476586297823233[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-11 00:15:06.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476586306211840[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-11 00:15:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476586302017536[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-11 00:15:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476586297823232[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476586297823233[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:06.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476586302017536[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:06.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476586306211840[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-11 00:15:06.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476586297823232[0;39m 请求参数: []
2024-12-11 00:15:06.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476586297823233[0;39m 请求参数: []
2024-12-11 00:15:06.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476586302017536[0;39m 请求参数: []
2024-12-11 00:15:06.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476586306211840[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:06.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476586306211840[0;39m 请求参数: []
2024-12-11 00:15:06.346 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476586297823232[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:15:06.347 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476586297823232[0;39m ==> Parameters: 
2024-12-11 00:15:06.349 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m247476586297823233[0;39m 访问Redis
2024-12-11 00:15:06.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476586297823233[0;39m 返回结果: {"content":[{"date":1733760000000,"viewCount":1544,"viewIncrease":1544,"voteCount":75,"voteIncrease":75}],"success":true}
2024-12-11 00:15:06.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476586297823233[0;39m ------------- 结束 耗时：27 ms -------------
2024-12-11 00:15:06.354 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476586302017536[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-11 00:15:06.354 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476586302017536[0;39m ==> Parameters: 
2024-12-11 00:15:06.355 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476586306211840[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-11 00:15:06.356 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476586306211840[0;39m ==> Parameters: 
2024-12-11 00:15:06.356 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-11 00:15:06.357 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-11 00:15:06.357 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-11 00:15:06.358 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-11 00:15:06.358 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-11 00:15:06.358 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-11 00:15:06.359 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-11 00:15:06.360 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476586297823232[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-11 00:15:06.360 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476586297823232[0;39m <==      Total: 7
2024-12-11 00:15:06.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476586297823232[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72}],"success":true}
2024-12-11 00:15:06.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476586297823232[0;39m ------------- 结束 耗时：39 ms -------------
2024-12-11 00:15:06.364 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==    Columns: id, name, view_count, percentage
2024-12-11 00:15:06.364 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==    Columns: id, parent, name, sort
2024-12-11 00:15:06.364 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 1, Spring Boot 入门教程, 923, 59.78
2024-12-11 00:15:06.364 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-11 00:15:06.365 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 2, Vue 入门教程, 232, 15.03
2024-12-11 00:15:06.365 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-11 00:15:06.365 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 101, 100, Vue, 101
2024-12-11 00:15:06.366 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.78
2024-12-11 00:15:06.366 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-11 00:15:06.366 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-11 00:15:06.367 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 200, 0, Java, 200
2024-12-11 00:15:06.366 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-11 00:15:06.367 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-11 00:15:06.368 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.60
2024-12-11 00:15:06.368 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-11 00:15:06.368 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 7, JS防抖策略和节流策略, 167, 10.82
2024-12-11 00:15:06.369 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476586302017536[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-11 00:15:06.369 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 300, 0, Python, 300
2024-12-11 00:15:06.370 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-11 00:15:06.370 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-11 00:15:06.371 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-11 00:15:06.371 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-11 00:15:06.371 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-11 00:15:06.371 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476586302017536[0;39m <==      Total: 8
2024-12-11 00:15:06.371 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 500, 0, 其它, 500
2024-12-11 00:15:06.372 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-11 00:15:06.372 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-11 00:15:06.374 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476586306211840[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-11 00:15:06.375 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476586306211840[0;39m <==      Total: 17
2024-12-11 00:15:06.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476586302017536[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.78,"viewCount":923},{"id":2,"name":"Vue 入门教程","percentage":15.03,"viewCount":232},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.78,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.6,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":167},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-11 00:15:06.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476586306211840[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-11 00:15:06.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476586302017536[0;39m ------------- 结束 耗时：54 ms -------------
2024-12-11 00:15:06.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476586306211840[0;39m ------------- 结束 耗时：53 ms -------------
2024-12-11 00:15:08.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476596783583232[0;39m ------------- 开始 -------------
2024-12-11 00:15:08.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476596783583232[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:15:08.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476596783583232[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:15:08.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476596783583232[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:08.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476596783583232[0;39m 请求参数: [{"categoryId2":301,"page":1,"size":1000}]
2024-12-11 00:15:08.838 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476596783583232[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:15:08.839 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476596783583232[0;39m ==> Parameters: 301(Long)
2024-12-11 00:15:08.848 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476596783583232[0;39m <==    Columns: count(0)
2024-12-11 00:15:08.849 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476596783583232[0;39m <==        Row: 1
2024-12-11 00:15:08.849 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476596783583232[0;39m <==      Total: 1
2024-12-11 00:15:08.850 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476596783583232[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-11 00:15:08.850 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476596783583232[0;39m ==> Parameters: 301(Long), 1000(Integer)
2024-12-11 00:15:08.859 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247476596783583232[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-11 00:15:08.861 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247476596783583232[0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2024-12-11 00:15:08.861 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476596783583232[0;39m <==      Total: 1
2024-12-11 00:15:08.862 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247476596783583232[0;39m 总行数：1
2024-12-11 00:15:08.862 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247476596783583232[0;39m 总页数：1
2024-12-11 00:15:08.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476596783583232[0;39m 返回结果: {"content":{"list":[{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2024-12-11 00:15:08.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476596783583232[0;39m ------------- 结束 耗时：39 ms -------------
2024-12-11 00:15:10.284 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:10.284 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2024-12-11 00:15:10.284 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m                  [0;39m LogInterceptor 结束
2024-12-11 00:15:10.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476602915655680[0;39m ------------- 开始 -------------
2024-12-11 00:15:10.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476602915655680[0;39m 请求地址: http://127.0.0.1:8880/doc/all/3 GET
2024-12-11 00:15:10.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476602915655680[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:15:10.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476602915655680[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:10.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476602915655680[0;39m 请求参数: [3]
2024-12-11 00:15:10.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476602919849984[0;39m ------------- 开始 -------------
2024-12-11 00:15:10.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476602919849984[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/3 GET
2024-12-11 00:15:10.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476602919849984[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-11 00:15:10.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476602919849984[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:10.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476602919849984[0;39m 请求参数: [3]
2024-12-11 00:15:10.292 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247476576210522112[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:10.292 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m247476576210522112[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-11 00:15:10.292 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m247476576210522112[0;39m 登录校验开始，token：247457385608777728
2024-12-11 00:15:10.295 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476602915655680[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:15:10.296 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476602915655680[0;39m ==> Parameters: 3(Long)
2024-12-11 00:15:10.296 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476602919849984[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-11 00:15:10.297 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476602919849984[0;39m ==> Parameters: 3(Long)
2024-12-11 00:15:10.304 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476602915655680[0;39m <==      Total: 0
2024-12-11 00:15:10.305 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476602919849984[0;39m <==      Total: 0
2024-12-11 00:15:10.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476602915655680[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:15:10.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476602919849984[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:15:10.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476602919849984[0;39m ------------- 结束 耗时：20 ms -------------
2024-12-11 00:15:10.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476602915655680[0;39m ------------- 结束 耗时：21 ms -------------
2024-12-11 00:15:10.303 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m247476576210522112[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"247457385608777728"}
2024-12-11 00:15:10.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476603016318976[0;39m ------------- 开始 -------------
2024-12-11 00:15:10.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476603016318976[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-11 00:15:10.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476603016318976[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-11 00:15:10.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476603016318976[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:10.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476603016318976[0;39m 请求参数: [1,3]
2024-12-11 00:15:10.309 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476603016318976[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-11 00:15:10.310 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476603016318976[0;39m ==> Parameters: 1(Long), 3(Long)
2024-12-11 00:15:10.319 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476603016318976[0;39m <==      Total: 0
2024-12-11 00:15:10.329 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m247476603016318976[0;39m 系统异常：
java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')
	at com.jiawa.wiki.util.RedisUtil.getUserLastReadDoc(RedisUtil.java:62)
	at com.jiawa.wiki.service.ReadProgressService.obrecord(ReadProgressService.java:43)
	at com.jiawa.wiki.controller.DocController.obrecord(DocController.java:45)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:85)
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$58a0505b.obrecord(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:15:10.330 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m247476603016318976[0;39m Resolved [java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')]
2024-12-11 00:15:10.330 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m247476603016318976[0;39m LogInterceptor 结束
2024-12-11 00:15:12.215 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m247476586306211840[0;39m 系统异常：
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "undefined"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NumberFormatException: For input string: "undefined"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:711)
	at java.base/java.lang.Long.valueOf(Long.java:1163)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 51 common frames omitted
2024-12-11 00:15:12.217 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m247476586306211840[0;39m Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "undefined"]
2024-12-11 00:15:14.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476619273441280[0;39m ------------- 开始 -------------
2024-12-11 00:15:14.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476619273441280[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-11 00:15:14.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476619273441280[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-11 00:15:14.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476619273441280[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:14.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476619273441280[0;39m 请求参数: []
2024-12-11 00:15:14.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476619298607104[0;39m ------------- 开始 -------------
2024-12-11 00:15:14.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476619298607104[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-11 00:15:14.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476619298607104[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-11 00:15:14.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476619298607104[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:14.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476619302801408[0;39m ------------- 开始 -------------
2024-12-11 00:15:14.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476619302801409[0;39m ------------- 开始 -------------
2024-12-11 00:15:14.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476619298607104[0;39m 请求参数: []
2024-12-11 00:15:14.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476619302801408[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-11 00:15:14.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476619302801409[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-11 00:15:14.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476619302801408[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-11 00:15:14.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476619302801409[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-11 00:15:14.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476619302801408[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476619302801409[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476619302801409[0;39m 请求参数: []
2024-12-11 00:15:14.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476619302801408[0;39m 请求参数: []
2024-12-11 00:15:14.198 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m247476619273441280[0;39m 访问Redis
2024-12-11 00:15:14.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476619273441280[0;39m 返回结果: {"content":[{"date":1733760000000,"viewCount":1544,"viewIncrease":1544,"voteCount":75,"voteIncrease":75}],"success":true}
2024-12-11 00:15:14.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476619273441280[0;39m ------------- 结束 耗时：14 ms -------------
2024-12-11 00:15:14.203 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476619298607104[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:15:14.204 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476619298607104[0;39m ==> Parameters: 
2024-12-11 00:15:14.204 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476619302801409[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-11 00:15:14.213 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476619302801408[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-11 00:15:14.214 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476619302801408[0;39m ==> Parameters: 
2024-12-11 00:15:14.214 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-11 00:15:14.215 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-11 00:15:14.205 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476619302801409[0;39m ==> Parameters: 
2024-12-11 00:15:14.219 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-11 00:15:14.220 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-11 00:15:14.220 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-11 00:15:14.220 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-11 00:15:14.221 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-11 00:15:14.221 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247476619298607104[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-11 00:15:14.221 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247476619298607104[0;39m <==      Total: 7
2024-12-11 00:15:14.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476619298607104[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72}],"success":true}
2024-12-11 00:15:14.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476619298607104[0;39m ------------- 结束 耗时：31 ms -------------
2024-12-11 00:15:14.222 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==    Columns: id, name, view_count, percentage
2024-12-11 00:15:14.222 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 1, Spring Boot 入门教程, 923, 59.78
2024-12-11 00:15:14.223 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 2, Vue 入门教程, 232, 15.03
2024-12-11 00:15:14.223 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-11 00:15:14.223 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.78
2024-12-11 00:15:14.223 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-11 00:15:14.224 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.60
2024-12-11 00:15:14.224 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 7, JS防抖策略和节流策略, 167, 10.82
2024-12-11 00:15:14.224 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247476619302801408[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-11 00:15:14.224 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247476619302801408[0;39m <==      Total: 8
2024-12-11 00:15:14.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476619302801408[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.78,"viewCount":923},{"id":2,"name":"Vue 入门教程","percentage":15.03,"viewCount":232},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.78,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.6,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.82,"viewCount":167},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-11 00:15:14.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476619302801408[0;39m ------------- 结束 耗时：33 ms -------------
2024-12-11 00:15:14.226 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==    Columns: id, parent, name, sort
2024-12-11 00:15:14.226 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-11 00:15:14.227 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 101, 100, Vue, 101
2024-12-11 00:15:14.227 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-11 00:15:14.228 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-11 00:15:14.228 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 200, 0, Java, 200
2024-12-11 00:15:14.228 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-11 00:15:14.229 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-11 00:15:14.229 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 300, 0, Python, 300
2024-12-11 00:15:14.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-11 00:15:14.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-11 00:15:14.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-11 00:15:14.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-11 00:15:14.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-11 00:15:14.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 500, 0, 其它, 500
2024-12-11 00:15:14.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-11 00:15:14.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-11 00:15:14.232 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247476619302801409[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-11 00:15:14.232 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247476619302801409[0;39m <==      Total: 17
2024-12-11 00:15:14.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476619302801409[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-11 00:15:14.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476619302801409[0;39m ------------- 结束 耗时：42 ms -------------
2024-12-11 00:15:15.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476623077675008[0;39m ------------- 开始 -------------
2024-12-11 00:15:15.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476623077675008[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:15:15.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476623077675008[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:15:15.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476623077675008[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:15.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476623077675008[0;39m 请求参数: [{"categoryId2":504,"page":1,"size":1000}]
2024-12-11 00:15:15.107 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476623077675008[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:15:15.108 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476623077675008[0;39m ==> Parameters: 504(Long)
2024-12-11 00:15:15.115 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476623077675008[0;39m <==    Columns: count(0)
2024-12-11 00:15:15.118 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247476623077675008[0;39m <==        Row: 1
2024-12-11 00:15:15.118 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247476623077675008[0;39m <==      Total: 1
2024-12-11 00:15:15.119 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476623077675008[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-11 00:15:15.120 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476623077675008[0;39m ==> Parameters: 504(Long), 1000(Integer)
2024-12-11 00:15:15.129 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247476623077675008[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-11 00:15:15.129 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247476623077675008[0;39m <==        Row: 7, JS防抖策略和节流策略, 100, 504, JS实战, http://127.0.0.1:8880/file/image-20220202111056036.png, 5, 167, 22
2024-12-11 00:15:15.129 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247476623077675008[0;39m <==      Total: 1
2024-12-11 00:15:15.130 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247476623077675008[0;39m 总行数：1
2024-12-11 00:15:15.130 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247476623077675008[0;39m 总页数：1
2024-12-11 00:15:15.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476623077675008[0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":504,"cover":"http://127.0.0.1:8880/file/image-20220202111056036.png","description":"JS实战","docCount":5,"id":7,"name":"JS防抖策略和节流策略","viewCount":167,"voteCount":22}],"total":1},"success":true}
2024-12-11 00:15:15.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476623077675008[0;39m ------------- 结束 耗时：39 ms -------------
2024-12-11 00:15:15.160 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247476602915655680[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:15.160 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m247476602915655680[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/error
2024-12-11 00:15:15.160 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m247476602915655680[0;39m 登录校验开始，token：null
2024-12-11 00:15:15.160 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m247476602915655680[0;39m token为空，请求被拦截
2024-12-11 00:15:15.870 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247476586306211840[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:15.870 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476626340843520[0;39m ------------- 开始 -------------
2024-12-11 00:15:15.871 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m247476586306211840[0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2024-12-11 00:15:15.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476626340843520[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/7 GET
2024-12-11 00:15:15.873 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m247476586306211840[0;39m LogInterceptor 结束
2024-12-11 00:15:15.877 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247476586306211840[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:15:15.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476626340843520[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-11 00:15:15.879 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m247476586306211840[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-11 00:15:15.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476626370203648[0;39m ------------- 开始 -------------
2024-12-11 00:15:15.880 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m247476586306211840[0;39m 登录校验开始，token：247457385608777728
2024-12-11 00:15:15.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476626340843520[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:15.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476626370203648[0;39m 请求地址: http://127.0.0.1:8880/doc/all/7 GET
2024-12-11 00:15:15.882 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476626340843520[0;39m 请求参数: [7]
2024-12-11 00:15:15.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476626370203648[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:15:15.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476626370203648[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:15.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476626370203648[0;39m 请求参数: [7]
2024-12-11 00:15:15.891 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476626340843520[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-11 00:15:15.892 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476626340843520[0;39m ==> Parameters: 7(Long)
2024-12-11 00:15:15.893 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476626370203648[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:15:15.894 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476626370203648[0;39m ==> Parameters: 7(Long)
2024-12-11 00:15:15.891 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m247476586306211840[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"247457385608777728"}
2024-12-11 00:15:15.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476626449895424[0;39m ------------- 开始 -------------
2024-12-11 00:15:15.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476626449895424[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-11 00:15:15.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476626449895424[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-11 00:15:15.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476626449895424[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:15.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476626449895424[0;39m 请求参数: [1,7]
2024-12-11 00:15:15.902 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247476626340843520[0;39m <==      Total: 0
2024-12-11 00:15:15.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476626340843520[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:15:15.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476626340843520[0;39m ------------- 结束 耗时：33 ms -------------
2024-12-11 00:15:15.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476626370203648[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:15:15.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476626370203648[0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 78, 5
2024-12-11 00:15:15.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476626370203648[0;39m <==        Row: 41261844488392704, 7, 41260702874341376, JS实战防抖策略基础, 1, 38, 8
2024-12-11 00:15:15.903 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476626370203648[0;39m <==        Row: 41265633660375040, 7, 41260840728530944, JS节流策略实战, 1, 23, 4
2024-12-11 00:15:15.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476626370203648[0;39m <==        Row: 41260702874341376, 7, 0, JS的防抖策略, 2, 14, 2
2024-12-11 00:15:15.904 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247476626370203648[0;39m <==        Row: 41260840728530944, 7, 0, JS的节流策略, 3, 14, 3
2024-12-11 00:15:15.904 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247476626370203648[0;39m <==      Total: 5
2024-12-11 00:15:15.905 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476626449895424[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-11 00:15:15.905 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476626449895424[0;39m ==> Parameters: 1(Long), 7(Long)
2024-12-11 00:15:15.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476626370203648[0;39m 返回结果: {"content":[{"ebookId":7,"id":41260598448754688,"name":"JS的优化策略","parent":0,"sort":1,"viewCount":78,"voteCount":5},{"ebookId":7,"id":41261844488392704,"name":"JS实战防抖策略基础","parent":41260702874341376,"sort":1,"viewCount":38,"voteCount":8},{"ebookId":7,"id":41265633660375040,"name":"JS节流策略实战","parent":41260840728530944,"sort":1,"viewCount":23,"voteCount":4},{"ebookId":7,"id":41260702874341376,"name":"JS的防抖策略","parent":0,"sort":2,"viewCount":14,"voteCount":2},{"ebookId":7,"id":41260840728530944,"name":"JS的节流策略","parent":0,"sort":3,"viewCount":14,"voteCount":3}],"success":true}
2024-12-11 00:15:15.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476626370203648[0;39m ------------- 结束 耗时：28 ms -------------
2024-12-11 00:15:15.913 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m247476626449895424[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-11 00:15:15.914 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m247476626449895424[0;39m <==        Row: 5, 1, 7, 41261844488392704
2024-12-11 00:15:15.914 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247476626449895424[0;39m <==      Total: 1
2024-12-11 00:15:15.924 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m247476626449895424[0;39m 系统异常：
java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')
	at com.jiawa.wiki.util.RedisUtil.getUserLastReadDoc(RedisUtil.java:62)
	at com.jiawa.wiki.service.ReadProgressService.obrecord(ReadProgressService.java:43)
	at com.jiawa.wiki.controller.DocController.obrecord(DocController.java:45)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:85)
	at jdk.internal.reflect.GeneratedMethodAccessor127.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$58a0505b.obrecord(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:15:15.925 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m247476626449895424[0;39m Resolved [java.lang.ClassCastException: class java.lang.Long cannot be cast to class java.lang.String (java.lang.Long and java.lang.String are in module java.base of loader 'bootstrap')]
2024-12-11 00:15:15.926 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m247476626449895424[0;39m LogInterceptor 结束
2024-12-11 00:15:15.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476626596696064[0;39m ------------- 开始 -------------
2024-12-11 00:15:15.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476626596696064[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/41260598448754688 GET
2024-12-11 00:15:15.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476626596696064[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-11 00:15:15.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476626596696064[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:15.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476626596696064[0;39m 请求参数: [41260598448754688]
2024-12-11 00:15:15.940 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247476626596696064[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-11 00:15:15.941 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247476626596696064[0;39m ==> Parameters: 41260598448754688(Long)
2024-12-11 00:15:15.950 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247476626596696064[0;39m <==    Columns: id, content
2024-12-11 00:15:15.951 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247476626596696064[0;39m <==        Row: 41260598448754688, <<BLOB>>
2024-12-11 00:15:15.951 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247476626596696064[0;39m <==      Total: 1
2024-12-11 00:15:15.952 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247476626596696064[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-11 00:15:15.952 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247476626596696064[0;39m ==> Parameters: 41260598448754688(Long)
2024-12-11 00:15:15.970 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247476626596696064[0;39m <==    Updates: 1
2024-12-11 00:15:15.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476626596696064[0;39m 返回结果: {"content":"<p>防抖（Debounce）和节流（Throttle）是在 JavaScript 中常见的两种优化策略，它们的主要目的是控制函数的执行频率。这两种策略在处理一些高频率事件（如滚动、输入、点击等）时非常有用，可以帮助我们避免因为频繁的函数执行而导致的性能问题。<br></p>","success":true}
2024-12-11 00:15:15.971 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476626596696064[0;39m ------------- 结束 耗时：40 ms -------------
2024-12-11 00:15:17.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247476631151710208[0;39m ------------- 开始 -------------
2024-12-11 00:15:17.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247476631151710208[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41260598448754688 GET
2024-12-11 00:15:17.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247476631151710208[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:15:17.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247476631151710208[0;39m 远程地址: 127.0.0.1
2024-12-11 00:15:17.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247476631151710208[0;39m 请求参数: [41260598448754688]
2024-12-11 00:15:17.028 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m247476631151710208[0;39m key不存在，放入：DOC_VOTE_41260598448754688_127.0.0.1，过期 5000 秒
2024-12-11 00:15:17.046 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247476631151710208[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-11 00:15:17.047 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247476631151710208[0;39m ==> Parameters: 41260598448754688(Long)
2024-12-11 00:15:17.066 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247476631151710208[0;39m <==    Updates: 1
2024-12-11 00:15:17.066 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247476631151710208[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-11 00:15:17.066 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247476631151710208[0;39m ==> Parameters: 41260598448754688(Long)
2024-12-11 00:15:17.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247476631151710208[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:15:17.076 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247476631151710208[0;39m <==        Row: 41260598448754688, 7, 0, JS的优化策略, 1, 79, 6
2024-12-11 00:15:17.076 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247476631151710208[0;39m <==      Total: 1
2024-12-11 00:15:17.077 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247476631151710208[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：JS的优化策略
2024-12-11 00:15:17.150 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247476631151710208[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-11 00:15:17.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247476631151710208[0;39m 返回结果: {"success":true}
2024-12-11 00:15:17.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247476631151710208[0;39m ------------- 结束 耗时：151 ms -------------
2024-12-11 00:15:22.431 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...JS的优化策略
2024-12-11 00:15:27.202 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-11 00:16:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247476811494199296[0;39m 更新电子书下的文档数据开始
2024-12-11 00:16:00.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247476811494199296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:16:00.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247476811494199296[0;39m ==> Parameters: 
2024-12-11 00:16:00.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247476811494199296[0;39m <==    Updates: 5
2024-12-11 00:16:00.043 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247476811494199296[0;39m 更新电子书下的文档数据结束，耗时：29毫秒
2024-12-11 00:18:00.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247477314802290688[0;39m 更新电子书下的文档数据开始
2024-12-11 00:18:00.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247477314802290688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:18:00.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247477314802290688[0;39m ==> Parameters: 
2024-12-11 00:18:00.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247477314802290688[0;39m <==    Updates: 5
2024-12-11 00:18:00.031 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247477314802290688[0;39m 更新电子书下的文档数据结束，耗时：19毫秒
2024-12-11 00:20:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m247477818072633344[0;39m 生成今日电子书快照开始
2024-12-11 00:20:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m247477818072633344[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2024-12-11 00:20:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m247477818072633344[0;39m ==> Parameters: 
2024-12-11 00:20:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m247477818072633344[0;39m <==    Updates: 0
2024-12-11 00:20:00.037 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m247477818072633344[0;39m 生成今日电子书快照结束，耗时：36毫秒
2024-12-11 00:20:00.037 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247477818223628288[0;39m 更新电子书下的文档数据开始
2024-12-11 00:20:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247477818223628288[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:20:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247477818223628288[0;39m ==> Parameters: 
2024-12-11 00:20:00.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247477818223628288[0;39m <==    Updates: 5
2024-12-11 00:20:00.059 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247477818223628288[0;39m 更新电子书下的文档数据结束，耗时：22毫秒
2024-12-11 00:21:46.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478263331557376[0;39m ------------- 开始 -------------
2024-12-11 00:21:46.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478263331557376[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/41260598448754688 GET
2024-12-11 00:21:46.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478263331557376[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:21:46.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478263331557376[0;39m 远程地址: 127.0.0.1
2024-12-11 00:21:46.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478263331557376[0;39m 请求参数: [41260598448754688]
2024-12-11 00:21:46.194 INFO  com.jiawa.wiki.util.RedisUtil                     :34   [32m247478263331557376[0;39m key已存在：DOC_VOTE_41260598448754688_127.0.0.1
2024-12-11 00:21:46.202 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m247478263331557376[0;39m 业务异常：您已点赞过
2024-12-11 00:21:46.204 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m247478263331557376[0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2024-12-11 00:21:47.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478269547515904[0;39m ------------- 开始 -------------
2024-12-11 00:21:47.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478269547515904[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-11 00:21:47.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478269547515904[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-11 00:21:47.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478269547515904[0;39m 远程地址: 127.0.0.1
2024-12-11 00:21:47.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478269547515904[0;39m 请求参数: []
2024-12-11 00:21:47.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478269593653249[0;39m ------------- 开始 -------------
2024-12-11 00:21:47.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478269593653248[0;39m ------------- 开始 -------------
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478269593653248[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478269593653249[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478269593653248[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478269593653249[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478269593653248[0;39m 远程地址: 127.0.0.1
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478269597847552[0;39m ------------- 开始 -------------
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478269593653248[0;39m 请求参数: []
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478269597847552[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478269597847552[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478269597847552[0;39m 远程地址: 127.0.0.1
2024-12-11 00:21:47.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478269597847552[0;39m 请求参数: []
2024-12-11 00:21:47.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478269593653249[0;39m 远程地址: 127.0.0.1
2024-12-11 00:21:47.656 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478269593653249[0;39m 请求参数: []
2024-12-11 00:21:47.655 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m247478269547515904[0;39m 访问Redis
2024-12-11 00:21:47.663 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478269597847552[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:21:47.663 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478269593653248[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-11 00:21:47.664 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478269597847552[0;39m ==> Parameters: 
2024-12-11 00:21:47.664 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478269593653248[0;39m ==> Parameters: 
2024-12-11 00:21:47.666 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247478269547515904[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:21:47.668 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478269593653249[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-11 00:21:49.045 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247478269547515904[0;39m ==> Parameters: 
2024-12-11 00:21:49.058 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-11 00:21:49.086 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-11 00:21:49.087 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-11 00:21:49.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-11 00:21:49.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-11 00:21:49.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-11 00:21:49.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-11 00:21:49.089 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478269593653249[0;39m ==> Parameters: 
2024-12-11 00:21:49.090 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478269597847552[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-11 00:21:49.090 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478269597847552[0;39m <==      Total: 7
2024-12-11 00:21:49.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478269597847552[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72}],"success":true}
2024-12-11 00:21:49.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478269597847552[0;39m ------------- 结束 耗时：1437 ms -------------
2024-12-11 00:21:49.058 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==    Columns: id, name, view_count, percentage
2024-12-11 00:21:49.092 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 1, Spring Boot 入门教程, 923, 59.70
2024-12-11 00:21:49.094 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 2, Vue 入门教程, 233, 15.07
2024-12-11 00:21:49.094 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-11 00:21:49.096 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.78
2024-12-11 00:21:49.096 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-11 00:21:49.096 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.58
2024-12-11 00:21:49.097 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m247478269547515904[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2024-12-11 00:21:49.098 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m247478269547515904[0;39m <==        Row: 2024-12-10, 1546, 76, 1546, 76
2024-12-11 00:21:49.098 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247478269547515904[0;39m <==      Total: 1
2024-12-11 00:21:49.100 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==    Columns: id, parent, name, sort
2024-12-11 00:21:49.101 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-11 00:21:49.102 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 101, 100, Vue, 101
2024-12-11 00:21:49.102 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-11 00:21:49.102 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-11 00:21:49.103 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 200, 0, Java, 200
2024-12-11 00:21:49.103 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-11 00:21:49.104 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-11 00:21:49.104 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 300, 0, Python, 300
2024-12-11 00:21:49.104 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-11 00:21:49.096 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.87
2024-12-11 00:21:49.104 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-11 00:21:49.105 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-11 00:21:49.105 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478269593653248[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-11 00:21:49.105 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-11 00:21:49.105 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478269593653248[0;39m <==      Total: 8
2024-12-11 00:21:49.105 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-11 00:21:49.105 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 500, 0, 其它, 500
2024-12-11 00:21:49.105 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-11 00:21:49.105 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-11 00:21:49.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478269593653248[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.7,"viewCount":923},{"id":2,"name":"Vue 入门教程","percentage":15.07,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.78,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.58,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.87,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-11 00:21:49.106 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478269593653249[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-11 00:21:49.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478269593653248[0;39m ------------- 结束 耗时：1454 ms -------------
2024-12-11 00:21:49.106 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478269593653249[0;39m <==      Total: 17
2024-12-11 00:21:49.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478269593653249[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-11 00:21:49.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478269593653249[0;39m ------------- 结束 耗时：1455 ms -------------
2024-12-11 00:21:49.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478269547515904[0;39m 返回结果: {"content":[{"date":1733760000000,"viewCount":1546,"viewIncrease":1546,"voteCount":76,"voteIncrease":76}],"success":true}
2024-12-11 00:21:49.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478269547515904[0;39m ------------- 结束 耗时：1469 ms -------------
2024-12-11 00:22:00.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247478321443639296[0;39m 更新电子书下的文档数据开始
2024-12-11 00:22:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247478321443639296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:22:00.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247478321443639296[0;39m ==> Parameters: 
2024-12-11 00:22:00.042 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247478321443639296[0;39m <==    Updates: 5
2024-12-11 00:22:00.042 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247478321443639296[0;39m 更新电子书下的文档数据结束，耗时：28毫秒
2024-12-11 00:22:27.914 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m client【gxNd5SAXwm】断开连接
2024-12-11 00:22:29.797 INFO  com.jiawa.wiki.websocket.WebSocketServer          :29   [32m                  [0;39m client【hGcENFgTqm】连接成功
2024-12-11 00:22:29.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478446878494720[0;39m ------------- 开始 -------------
2024-12-11 00:22:29.921 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478446878494720[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-11 00:22:29.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478446878494720[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-11 00:22:29.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478446878494720[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:29.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478446878494720[0;39m 请求参数: []
2024-12-11 00:22:29.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478446874300416[0;39m ------------- 开始 -------------
2024-12-11 00:22:29.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478446874300416[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-11 00:22:29.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478446874300416[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-11 00:22:29.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478446874300416[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:29.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478446874300416[0;39m 请求参数: []
2024-12-11 00:22:29.926 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478446903660544[0;39m ------------- 开始 -------------
2024-12-11 00:22:29.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478446903660544[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-11 00:22:29.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478446903660544[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-11 00:22:29.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478446903660544[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:29.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478446903660544[0;39m 请求参数: []
2024-12-11 00:22:29.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478446924632064[0;39m ------------- 开始 -------------
2024-12-11 00:22:29.933 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m247478446878494720[0;39m 访问Redis
2024-12-11 00:22:29.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478446924632064[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-11 00:22:29.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478446924632064[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-11 00:22:29.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478446924632064[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:29.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478446924632064[0;39m 请求参数: []
2024-12-11 00:22:29.935 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478446903660544[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-11 00:22:29.936 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478446903660544[0;39m ==> Parameters: 
2024-12-11 00:22:29.933 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478446874300416[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:22:29.942 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478446924632064[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-11 00:22:29.942 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247478446878494720[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:22:29.942 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478446924632064[0;39m ==> Parameters: 
2024-12-11 00:22:29.942 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247478446878494720[0;39m ==> Parameters: 
2024-12-11 00:22:29.942 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478446874300416[0;39m ==> Parameters: 
2024-12-11 00:22:29.946 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==    Columns: id, name, view_count, percentage
2024-12-11 00:22:29.946 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 1, Spring Boot 入门教程, 923, 59.70
2024-12-11 00:22:29.947 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 2, Vue 入门教程, 233, 15.07
2024-12-11 00:22:29.947 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-11 00:22:29.947 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.78
2024-12-11 00:22:29.947 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-11 00:22:29.948 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.58
2024-12-11 00:22:29.948 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.87
2024-12-11 00:22:29.948 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478446903660544[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-11 00:22:29.948 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478446903660544[0;39m <==      Total: 8
2024-12-11 00:22:29.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478446903660544[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.7,"viewCount":923},{"id":2,"name":"Vue 入门教程","percentage":15.07,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.78,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.58,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.87,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-11 00:22:29.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478446903660544[0;39m ------------- 结束 耗时：23 ms -------------
2024-12-11 00:22:29.951 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m247478446878494720[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2024-12-11 00:22:29.951 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==    Columns: id, parent, name, sort
2024-12-11 00:22:29.951 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-11 00:22:29.952 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m247478446878494720[0;39m <==        Row: 2024-12-10, 1546, 76, 1546, 76
2024-12-11 00:22:29.952 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 101, 100, Vue, 101
2024-12-11 00:22:29.952 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-11 00:22:29.952 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m247478446878494720[0;39m <==      Total: 1
2024-12-11 00:22:29.952 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-11 00:22:29.952 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-11 00:22:29.952 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-11 00:22:29.952 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 200, 0, Java, 200
2024-12-11 00:22:29.952 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-11 00:22:29.952 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-11 00:22:29.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 300, 0, Python, 300
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-11 00:22:29.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-11 00:22:29.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-11 00:22:29.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 500, 0, 其它, 500
2024-12-11 00:22:29.954 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478446874300416[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-11 00:22:29.954 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-11 00:22:29.955 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-11 00:22:29.955 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478446874300416[0;39m <==      Total: 7
2024-12-11 00:22:29.955 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478446924632064[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-11 00:22:29.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478446874300416[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72}],"success":true}
2024-12-11 00:22:29.956 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478446924632064[0;39m <==      Total: 17
2024-12-11 00:22:29.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478446874300416[0;39m ------------- 结束 耗时：37 ms -------------
2024-12-11 00:22:29.956 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478446924632064[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-11 00:22:29.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478446924632064[0;39m ------------- 结束 耗时：26 ms -------------
2024-12-11 00:22:29.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478446878494720[0;39m 返回结果: {"content":[{"date":1733760000000,"viewCount":1546,"viewIncrease":1546,"voteCount":76,"voteIncrease":76}],"success":true}
2024-12-11 00:22:29.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478446878494720[0;39m ------------- 结束 耗时：41 ms -------------
2024-12-11 00:22:36.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478473982087168[0;39m ------------- 开始 -------------
2024-12-11 00:22:36.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478473982087168[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:22:36.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478473982087168[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:22:36.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478473982087168[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:36.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478473982087168[0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2024-12-11 00:22:36.398 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478473982087168[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:22:36.399 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478473982087168[0;39m ==> Parameters: 201(Long)
2024-12-11 00:22:36.408 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247478473982087168[0;39m <==    Columns: count(0)
2024-12-11 00:22:36.408 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247478473982087168[0;39m <==        Row: 0
2024-12-11 00:22:36.408 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478473982087168[0;39m <==      Total: 1
2024-12-11 00:22:36.408 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247478473982087168[0;39m 总行数：0
2024-12-11 00:22:36.408 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247478473982087168[0;39m 总页数：0
2024-12-11 00:22:36.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478473982087168[0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2024-12-11 00:22:36.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478473982087168[0;39m ------------- 结束 耗时：26 ms -------------
2024-12-11 00:22:37.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478478994280448[0;39m ------------- 开始 -------------
2024-12-11 00:22:37.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478478994280448[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:22:37.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478478994280448[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:22:37.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478478994280448[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:37.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478478994280448[0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2024-12-11 00:22:37.588 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478478994280448[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:22:37.589 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478478994280448[0;39m ==> Parameters: 202(Long)
2024-12-11 00:22:37.597 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247478478994280448[0;39m <==    Columns: count(0)
2024-12-11 00:22:37.597 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247478478994280448[0;39m <==        Row: 2
2024-12-11 00:22:37.598 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478478994280448[0;39m <==      Total: 1
2024-12-11 00:22:37.598 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247478478994280448[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-11 00:22:37.599 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247478478994280448[0;39m ==> Parameters: 202(Long), 1000(Integer)
2024-12-11 00:22:37.607 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247478478994280448[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-11 00:22:37.607 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247478478994280448[0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 923, 33
2024-12-11 00:22:37.607 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247478478994280448[0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 210, 12
2024-12-11 00:22:37.607 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247478478994280448[0;39m <==      Total: 2
2024-12-11 00:22:37.607 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247478478994280448[0;39m 总行数：2
2024-12-11 00:22:37.607 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247478478994280448[0;39m 总页数：1
2024-12-11 00:22:37.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478478994280448[0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":923,"voteCount":33},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":210,"voteCount":12}],"total":2},"success":true}
2024-12-11 00:22:37.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478478994280448[0;39m ------------- 结束 耗时：30 ms -------------
2024-12-11 00:22:38.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482454581248[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482454581248[0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2024-12-11 00:22:38.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482454581248[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:22:38.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482454581248[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482454581248[0;39m 请求参数: [1]
2024-12-11 00:22:38.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482471358464[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482471358464[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2024-12-11 00:22:38.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482471358464[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-11 00:22:38.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482471358464[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482471358464[0;39m 请求参数: [1]
2024-12-11 00:22:38.411 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478482454581248[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:22:38.411 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478482454581248[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:38.412 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247478446903660544[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:22:38.412 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m247478446903660544[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-11 00:22:38.412 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m247478446903660544[0;39m 登录校验开始，token：247457385608777728
2024-12-11 00:22:38.416 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247478482471358464[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-11 00:22:38.416 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247478482471358464[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:38.419 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:22:38.419 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 1, 1, 0, 文档1, 1, 689, 14
2024-12-11 00:22:38.420 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2024-12-11 00:22:38.420 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2024-12-11 00:22:38.420 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2024-12-11 00:22:38.420 WARN  com.jiawa.wiki.interceptor.LoginInterceptor       :55   [32m247478446903660544[0;39m token无效，请求被拦截
2024-12-11 00:22:38.420 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 23, 3
2024-12-11 00:22:38.420 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2024-12-11 00:22:38.421 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2024-12-11 00:22:38.421 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478482454581248[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2024-12-11 00:22:38.421 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478482454581248[0;39m <==      Total: 8
2024-12-11 00:22:38.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482454581248[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":689,"voteCount":14},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":23,"voteCount":3},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2024-12-11 00:22:38.422 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482454581248[0;39m ------------- 结束 耗时：20 ms -------------
2024-12-11 00:22:38.424 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247478482471358464[0;39m <==      Total: 0
2024-12-11 00:22:38.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482471358464[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:22:38.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482471358464[0;39m ------------- 结束 耗时：18 ms -------------
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482882400256[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482882400256[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482882400256[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482882400256[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482882400256[0;39m 请求参数: []
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482882400257[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482882400258[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482882400257[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2024-12-11 00:22:38.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482882400258[0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/selectBookView GET
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482890788864[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482890788864[0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482890788864[0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482882400257[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482890788864[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482882400258[0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.selectBookView
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482882400257[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482890788864[0;39m 请求参数: []
2024-12-11 00:22:38.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482882400258[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482882400257[0;39m 请求参数: []
2024-12-11 00:22:38.507 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478482890788864[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2024-12-11 00:22:38.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482882400258[0;39m 请求参数: []
2024-12-11 00:22:38.508 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478482890788864[0;39m ==> Parameters: 
2024-12-11 00:22:38.512 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478482882400256[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2024-12-11 00:22:38.512 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478482882400256[0;39m ==> Parameters: 
2024-12-11 00:22:38.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478482920148992[0;39m ------------- 开始 -------------
2024-12-11 00:22:38.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478482920148992[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2024-12-11 00:22:38.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478482920148992[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-11 00:22:38.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478482920148992[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:38.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478482920148992[0;39m 请求参数: [1]
2024-12-11 00:22:38.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478482920148992[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-11 00:22:38.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478482920148992[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:38.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==    Columns: id, parent, name, sort
2024-12-11 00:22:38.516 INFO  com.jiawa.wiki.service.EbookSnapshotService       :39   [32m247478482882400257[0;39m 访问Redis
2024-12-11 00:22:38.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 100, 0, 前端开发, 100
2024-12-11 00:22:38.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482882400257[0;39m 返回结果: {"content":[{"date":1733760000000,"viewCount":1546,"viewIncrease":1546,"voteCount":76,"voteIncrease":76}],"success":true}
2024-12-11 00:22:38.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482882400257[0;39m ------------- 结束 耗时：12 ms -------------
2024-12-11 00:22:38.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 101, 100, Vue, 101
2024-12-11 00:22:38.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 102, 100, HTML & CSS, 102
2024-12-11 00:22:38.516 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478482882400258[0;39m ==>  Preparing: SELECT e.id, e.name, e.view_count, ROUND((e.view_count / t.total_view_count) * 100, 2) AS percentage FROM ebook e, (SELECT SUM(view_count) AS total_view_count FROM ebook) AS t
2024-12-11 00:22:38.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 504, 100, JavaScript, 103
2024-12-11 00:22:38.516 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478482882400258[0;39m ==> Parameters: 
2024-12-11 00:22:38.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 200, 0, Java, 200
2024-12-11 00:22:38.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 201, 200, 基础应用, 201
2024-12-11 00:22:38.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 202, 200, 框架应用, 202
2024-12-11 00:22:38.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 300, 0, Python, 300
2024-12-11 00:22:38.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 301, 300, 基础应用, 301
2024-12-11 00:22:38.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 302, 300, 进阶方向应用, 302
2024-12-11 00:22:38.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 400, 0, 数据库, 400
2024-12-11 00:22:38.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 401, 400, MySQL, 401
2024-12-11 00:22:38.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 52447426497351681, 400, Redis, 402
2024-12-11 00:22:38.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 500, 0, 其它, 500
2024-12-11 00:22:38.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 501, 500, 服务器, 501
2024-12-11 00:22:38.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 502, 500, 开发工具, 502
2024-12-11 00:22:38.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m247478482890788864[0;39m <==        Row: 503, 500, 热门服务端语言, 503
2024-12-11 00:22:38.519 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m247478482890788864[0;39m <==      Total: 17
2024-12-11 00:22:38.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482890788864[0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":504,"name":"JavaScript","parent":100,"sort":103},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":52447426497351681,"name":"Redis","parent":400,"sort":402},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2024-12-11 00:22:38.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482890788864[0;39m ------------- 结束 耗时：14 ms -------------
2024-12-11 00:22:38.521 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==    Columns: date, viewIncrease, voteIncrease
2024-12-11 00:22:38.521 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-11-25, 1527, 69
2024-12-11 00:22:38.522 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-11-26, 0, 0
2024-12-11 00:22:38.522 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-11-27, 0, 0
2024-12-11 00:22:38.523 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247478482920148992[0;39m <==    Columns: id, content
2024-12-11 00:22:38.523 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-11-28, 0, 0
2024-12-11 00:22:38.523 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247478482920148992[0;39m <==        Row: 1, <<BLOB>>
2024-12-11 00:22:38.523 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-11-29, 0, 0
2024-12-11 00:22:38.523 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478482920148992[0;39m <==      Total: 1
2024-12-11 00:22:38.523 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-12-01, 1529, 70
2024-12-11 00:22:38.523 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m247478482882400256[0;39m <==        Row: 2024-12-07, 1534, 72
2024-12-11 00:22:38.523 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478482920148992[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-11 00:22:38.524 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m247478482882400256[0;39m <==      Total: 7
2024-12-11 00:22:38.524 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478482920148992[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:38.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482882400256[0;39m 返回结果: {"content":[{"date":1732464000000,"viewCount":0,"viewIncrease":1527,"voteCount":0,"voteIncrease":69},{"date":1732550400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732636800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732723200000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732809600000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1732982400000,"viewCount":0,"viewIncrease":1529,"voteCount":0,"voteIncrease":70},{"date":1733500800000,"viewCount":0,"viewIncrease":1534,"voteCount":0,"voteIncrease":72}],"success":true}
2024-12-11 00:22:38.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482882400256[0;39m ------------- 结束 耗时：20 ms -------------
2024-12-11 00:22:38.525 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==    Columns: id, name, view_count, percentage
2024-12-11 00:22:38.525 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 1, Spring Boot 入门教程, 923, 59.70
2024-12-11 00:22:38.525 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 2, Vue 入门教程, 233, 15.07
2024-12-11 00:22:38.525 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 3, Python 入门教程, 0, 0.00
2024-12-11 00:22:38.526 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 4, Mysql 入门教程, 12, 0.78
2024-12-11 00:22:38.526 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 5, Oracle 入门教程, 0, 0.00
2024-12-11 00:22:38.526 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 6, RocketMq实战基础, 210, 13.58
2024-12-11 00:22:38.526 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 7, JS防抖策略和节流策略, 168, 10.87
2024-12-11 00:22:38.526 TRACE c.j.w.m.EbookSnapshotMapperCust.selectBookView    :143  [32m247478482882400258[0;39m <==        Row: 52447510677032960, Redis入门到实战, 0, 0.00
2024-12-11 00:22:38.526 DEBUG c.j.w.m.EbookSnapshotMapperCust.selectBookView    :137  [32m247478482882400258[0;39m <==      Total: 8
2024-12-11 00:22:38.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482882400258[0;39m 返回结果: {"content":[{"id":1,"name":"Spring Boot 入门教程","percentage":59.7,"viewCount":923},{"id":2,"name":"Vue 入门教程","percentage":15.07,"viewCount":233},{"id":3,"name":"Python 入门教程","percentage":0.0,"viewCount":0},{"id":4,"name":"Mysql 入门教程","percentage":0.78,"viewCount":12},{"id":5,"name":"Oracle 入门教程","percentage":0.0,"viewCount":0},{"id":6,"name":"RocketMq实战基础","percentage":13.58,"viewCount":210},{"id":7,"name":"JS防抖策略和节流策略","percentage":10.87,"viewCount":168},{"id":52447510677032960,"name":"Redis入门到实战","percentage":0.0,"viewCount":0}],"success":true}
2024-12-11 00:22:38.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482882400258[0;39m ------------- 结束 耗时：23 ms -------------
2024-12-11 00:22:38.543 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478482920148992[0;39m <==    Updates: 1
2024-12-11 00:22:38.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478482920148992[0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2024-12-11 00:22:38.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478482920148992[0;39m ------------- 结束 耗时：31 ms -------------
2024-12-11 00:22:41.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478493540126720[0;39m ------------- 开始 -------------
2024-12-11 00:22:41.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478493540126720[0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2024-12-11 00:22:41.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478493540126720[0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2024-12-11 00:22:41.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478493540126720[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:41.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478493540126720[0;39m 请求参数: [{"loginName":"test"}]
2024-12-11 00:22:41.066 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m247478493540126720[0;39m ==>  Preparing: select id, login_name, `name`, `password`, avatar from user WHERE ( login_name = ? )
2024-12-11 00:22:41.067 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m247478493540126720[0;39m ==> Parameters: test(String)
2024-12-11 00:22:41.075 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m247478493540126720[0;39m <==    Columns: id, login_name, name, password, avatar
2024-12-11 00:22:41.075 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m247478493540126720[0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4, http://127.0.0.1:8880/file/image-20220202121318183-16437751995162.png
2024-12-11 00:22:41.075 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m247478493540126720[0;39m <==      Total: 1
2024-12-11 00:22:41.087 INFO  com.jiawa.wiki.controller.UserController          :99   [32m247478493540126720[0;39m 生成单点登录token：247478493716287488，并放入redis中
2024-12-11 00:22:41.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478493540126720[0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"247478493716287488"},"success":true}
2024-12-11 00:22:41.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478493540126720[0;39m ------------- 结束 耗时：56 ms -------------
2024-12-11 00:22:41.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478496778129408[0;39m ------------- 开始 -------------
2024-12-11 00:22:41.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478496778129408[0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2024-12-11 00:22:41.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478496778129408[0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2024-12-11 00:22:41.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478496778129408[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:41.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478496778129408[0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2024-12-11 00:22:41.836 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478496778129408[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2024-12-11 00:22:41.836 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478496778129408[0;39m ==> Parameters: 202(Long)
2024-12-11 00:22:41.845 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247478496778129408[0;39m <==    Columns: count(0)
2024-12-11 00:22:41.845 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m247478496778129408[0;39m <==        Row: 2
2024-12-11 00:22:41.845 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m247478496778129408[0;39m <==      Total: 1
2024-12-11 00:22:41.845 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247478496778129408[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2024-12-11 00:22:41.847 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247478496778129408[0;39m ==> Parameters: 202(Long), 1000(Integer)
2024-12-11 00:22:41.855 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247478496778129408[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2024-12-11 00:22:41.855 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247478496778129408[0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, https://img.bizhizu.com/2015/1231/20151231030245752.jpg, 8, 923, 33
2024-12-11 00:22:41.856 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m247478496778129408[0;39m <==        Row: 6, RocketMq实战基础, 200, 202, RocketMq详情介绍, https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg, 9, 210, 12
2024-12-11 00:22:41.856 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m247478496778129408[0;39m <==      Total: 2
2024-12-11 00:22:41.857 INFO  com.jiawa.wiki.service.EbookService               :48   [32m247478496778129408[0;39m 总行数：2
2024-12-11 00:22:41.857 INFO  com.jiawa.wiki.service.EbookService               :49   [32m247478496778129408[0;39m 总页数：1
2024-12-11 00:22:41.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478496778129408[0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"cover":"https://img.bizhizu.com/2015/1231/20151231030245752.jpg","description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":923,"voteCount":33},{"category1Id":200,"category2Id":202,"cover":"https://pic3.zhimg.com/v2-a3e16e00c6267e75187904a4df793346_r.jpg","description":"RocketMq详情介绍","docCount":9,"id":6,"name":"RocketMq实战基础","viewCount":210,"voteCount":12}],"total":2},"success":true}
2024-12-11 00:22:41.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478496778129408[0;39m ------------- 结束 耗时：40 ms -------------
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m247478482471358464[0;39m ------------- LoginInterceptor 开始 -------------
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m247478482471358464[0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/obrecord
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m247478482471358464[0;39m 登录校验开始，token：247478493716287488
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478499781251072[0;39m ------------- 开始 -------------
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478499781251072[0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478499781251072[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:22:42.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478499781251072[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:42.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478499781251072[0;39m 请求参数: [1]
2024-12-11 00:22:42.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478499789639680[0;39m ------------- 开始 -------------
2024-12-11 00:22:42.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478499789639680[0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2024-12-11 00:22:42.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478499789639680[0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2024-12-11 00:22:42.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478499789639680[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:42.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478499789639680[0;39m 请求参数: [1]
2024-12-11 00:22:42.543 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247478499789639680[0;39m ==>  Preparing: SELECT comment.*, user.avatar, user.name FROM comment INNER JOIN user ON comment.user_id = user.id WHERE comment.ebook_id = ?
2024-12-11 00:22:42.544 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247478499789639680[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:42.544 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m247478482471358464[0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"247478493716287488"}
2024-12-11 00:22:42.544 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478499781251072[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:22:42.545 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478499781251072[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:42.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478499835777024[0;39m ------------- 开始 -------------
2024-12-11 00:22:42.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478499835777024[0;39m 请求地址: http://127.0.0.1:8880/doc/obrecord GET
2024-12-11 00:22:42.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478499835777024[0;39m 类名方法: com.jiawa.wiki.controller.DocController.obrecord
2024-12-11 00:22:42.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478499835777024[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:42.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478499835777024[0;39m 请求参数: [1,1]
2024-12-11 00:22:42.552 DEBUG c.j.wiki.mapper.CommentMapper.selectCommentResp   :137  [32m247478499789639680[0;39m <==      Total: 0
2024-12-11 00:22:42.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478499789639680[0;39m 返回结果: {"content":[],"success":true}
2024-12-11 00:22:42.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478499789639680[0;39m ------------- 结束 耗时：17 ms -------------
2024-12-11 00:22:42.553 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:22:42.553 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 1, 1, 0, 文档1, 1, 690, 14
2024-12-11 00:22:42.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2024-12-11 00:22:42.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2024-12-11 00:22:42.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2024-12-11 00:22:42.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 23, 3
2024-12-11 00:22:42.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2024-12-11 00:22:42.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2024-12-11 00:22:42.556 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478499781251072[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2024-12-11 00:22:42.556 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478499781251072[0;39m <==      Total: 8
2024-12-11 00:22:42.557 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247478499835777024[0;39m ==>  Preparing: select * from read_progress where user_id = ? and ebook_id = ?
2024-12-11 00:22:42.558 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247478499835777024[0;39m ==> Parameters: 1(Long), 1(Long)
2024-12-11 00:22:42.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478499781251072[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":690,"voteCount":14},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":23,"voteCount":3},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2024-12-11 00:22:42.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478499781251072[0;39m ------------- 结束 耗时：26 ms -------------
2024-12-11 00:22:42.567 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m247478499835777024[0;39m <==    Columns: id, user_id, ebook_id, doc_id
2024-12-11 00:22:42.567 TRACE c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:143  [32m247478499835777024[0;39m <==        Row: 1, 1, 1, 37841703666847744
2024-12-11 00:22:42.568 DEBUG c.j.wiki.mapper.ReadProgressMapper.selectDocrecord:137  [32m247478499835777024[0;39m <==      Total: 1
2024-12-11 00:22:42.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478499835777024[0;39m 返回结果: {"content":{"docId":37841703666847744,"ebookId":1,"id":1,"userId":1},"success":true}
2024-12-11 00:22:42.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478499835777024[0;39m ------------- 结束 耗时：31 ms -------------
2024-12-11 00:22:42.579 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m247478499835777024[0;39m ------------- LoginInterceptor 结束 耗时：46 ms -------------
2024-12-11 00:22:42.580 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :75   [32m247478499835777024[0;39m LogInterceptor 结束
2024-12-11 00:22:42.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478500020326400[0;39m ------------- 开始 -------------
2024-12-11 00:22:42.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478500020326400[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2024-12-11 00:22:42.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478500020326400[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-11 00:22:42.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478500020326400[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:42.591 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478500020326400[0;39m 请求参数: [1]
2024-12-11 00:22:42.591 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478500020326400[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-11 00:22:42.592 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478500020326400[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:42.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478500045492224[0;39m ------------- 开始 -------------
2024-12-11 00:22:42.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478500045492224[0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2024-12-11 00:22:42.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478500045492224[0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2024-12-11 00:22:42.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478500045492224[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:42.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478500045492224[0;39m 请求参数: [1]
2024-12-11 00:22:42.599 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247478500020326400[0;39m <==    Columns: id, content
2024-12-11 00:22:42.599 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247478500020326400[0;39m <==        Row: 1, <<BLOB>>
2024-12-11 00:22:42.599 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478500020326400[0;39m <==      Total: 1
2024-12-11 00:22:42.601 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478500020326400[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-11 00:22:42.601 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478500020326400[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:42.604 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478500045492224[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2024-12-11 00:22:42.604 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478500045492224[0;39m ==> Parameters: 1(Long)
2024-12-11 00:22:42.613 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:22:42.613 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 1, 1, 0, 文档1, 1, 690, 14
2024-12-11 00:22:42.613 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 27, 5
2024-12-11 00:22:42.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 33, 2
2024-12-11 00:22:42.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 79, 4
2024-12-11 00:22:42.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 23, 3
2024-12-11 00:22:42.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 34, 2
2024-12-11 00:22:42.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 3, 1, 0, 文档2, 2, 16, 1
2024-12-11 00:22:42.614 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m247478500045492224[0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 22, 2
2024-12-11 00:22:42.614 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m247478500045492224[0;39m <==      Total: 8
2024-12-11 00:22:42.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478500045492224[0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":690,"voteCount":14},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":33,"voteCount":2},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":79,"voteCount":4},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":23,"voteCount":3},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":34,"voteCount":2},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":16,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":22,"voteCount":2}],"success":true}
2024-12-11 00:22:42.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478500045492224[0;39m ------------- 结束 耗时：18 ms -------------
2024-12-11 00:22:42.614 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478500020326400[0;39m <==    Updates: 1
2024-12-11 00:22:42.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478500020326400[0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2024-12-11 00:22:42.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478500020326400[0;39m ------------- 结束 耗时：29 ms -------------
2024-12-11 00:22:42.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478500439756800[0;39m ------------- 开始 -------------
2024-12-11 00:22:42.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478500439756800[0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2024-12-11 00:22:42.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478500439756800[0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2024-12-11 00:22:42.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478500439756800[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:42.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478500439756800[0;39m 请求参数: [37841703666847744]
2024-12-11 00:22:42.691 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478500439756800[0;39m ==>  Preparing: select id , content from content where id = ?
2024-12-11 00:22:42.691 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478500439756800[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:22:42.699 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247478500439756800[0;39m <==    Columns: id, content
2024-12-11 00:22:42.700 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m247478500439756800[0;39m <==        Row: 37841703666847744, <<BLOB>>
2024-12-11 00:22:42.700 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m247478500439756800[0;39m <==      Total: 1
2024-12-11 00:22:42.701 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478500439756800[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2024-12-11 00:22:42.701 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478500439756800[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:22:42.718 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m247478500439756800[0;39m <==    Updates: 1
2024-12-11 00:22:42.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478500439756800[0;39m 返回结果: {"content":"","success":true}
2024-12-11 00:22:42.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478500439756800[0;39m ------------- 结束 耗时：29 ms -------------
2024-12-11 00:22:51.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247478536779206656[0;39m ------------- 开始 -------------
2024-12-11 00:22:51.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247478536779206656[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2024-12-11 00:22:51.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247478536779206656[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:22:51.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247478536779206656[0;39m 远程地址: 127.0.0.1
2024-12-11 00:22:51.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247478536779206656[0;39m 请求参数: [37841703666847744]
2024-12-11 00:22:51.363 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m247478536779206656[0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2024-12-11 00:22:51.378 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247478536779206656[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-11 00:22:51.378 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247478536779206656[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:22:51.396 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247478536779206656[0;39m <==    Updates: 1
2024-12-11 00:22:51.404 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247478536779206656[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-11 00:22:51.404 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247478536779206656[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:22:51.414 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247478536779206656[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:22:51.414 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247478536779206656[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 4
2024-12-11 00:22:51.414 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247478536779206656[0;39m <==      Total: 1
2024-12-11 00:22:51.414 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247478536779206656[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：文档2.2.2
2024-12-11 00:22:51.422 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247478536779206656[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-11 00:22:51.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247478536779206656[0;39m 返回结果: {"success":true}
2024-12-11 00:22:51.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247478536779206656[0;39m ------------- 结束 耗时：77 ms -------------
2024-12-11 00:23:06.553 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...文档2.2.2
2024-12-11 00:23:07.348 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-11 00:24:00.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247478824709787648[0;39m 更新电子书下的文档数据开始
2024-12-11 00:24:00.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247478824709787648[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:24:00.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247478824709787648[0;39m ==> Parameters: 
2024-12-11 00:24:00.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247478824709787648[0;39m <==    Updates: 5
2024-12-11 00:24:00.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247478824709787648[0;39m 更新电子书下的文档数据结束，耗时：28毫秒
2024-12-11 00:25:56.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247479313925017600[0;39m ------------- 开始 -------------
2024-12-11 00:25:56.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247479313925017600[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2024-12-11 00:25:56.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247479313925017600[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:25:56.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247479313925017600[0;39m 远程地址: 127.0.0.1
2024-12-11 00:25:56.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247479313925017600[0;39m 请求参数: [37841703666847744]
2024-12-11 00:25:56.652 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m247479313925017600[0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2024-12-11 00:25:56.673 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247479313925017600[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-11 00:25:56.673 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247479313925017600[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:25:56.697 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247479313925017600[0;39m <==    Updates: 1
2024-12-11 00:25:56.697 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247479313925017600[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-11 00:25:56.697 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247479313925017600[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:25:56.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247479313925017600[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:25:56.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247479313925017600[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 5
2024-12-11 00:25:56.707 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247479313925017600[0;39m <==      Total: 1
2024-12-11 00:25:56.707 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247479313925017600[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：文档2.2.2
2024-12-11 00:25:56.715 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247479313925017600[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-11 00:25:56.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247479313925017600[0;39m 返回结果: {"success":true}
2024-12-11 00:25:56.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247479313925017600[0;39m ------------- 结束 耗时：75 ms -------------
2024-12-11 00:26:00.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247479328059822080[0;39m 更新电子书下的文档数据开始
2024-12-11 00:26:00.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247479328059822080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:26:00.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247479328059822080[0;39m ==> Parameters: 
2024-12-11 00:26:00.037 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247479328059822080[0;39m <==    Updates: 5
2024-12-11 00:26:00.037 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247479328059822080[0;39m 更新电子书下的文档数据结束，耗时：26毫秒
2024-12-11 00:26:01.793 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...文档2.2.2
2024-12-11 00:26:06.786 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-11 00:27:25.109 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2024-12-11 00:27:25.117 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-11 00:27:25.117 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2024-12-11 00:27:25.227 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2024-12-11 00:27:25.745 ERROR com.jiawa.wiki.task.QueueTaskConfig               :64   [32m                  [0;39m 队列监听线程出错
org.redisson.RedissonShutdownException: Redisson is shutdown
	at org.redisson.command.RedisExecutor.execute(RedisExecutor.java:129)
	at org.redisson.command.CommandAsyncService.async(CommandAsyncService.java:622)
	at org.redisson.command.CommandAsyncService.writeAsync(CommandAsyncService.java:578)
	at org.redisson.RedissonBlockingQueue.pollAsync(RedissonBlockingQueue.java:97)
	at org.redisson.RedissonBlockingQueue.poll(RedissonBlockingQueue.java:106)
	at com.jiawa.wiki.task.QueueTaskConfig.lambda$queueTask$2(QueueTaskConfig.java:57)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-12-11 00:27:37.280 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 17.0.7 on LAPTOP-TLCI2GAA with PID 1764 (D:\work\Coun-Springboot-Vue3\Coun-Vue\target\classes started by k in D:\work\Coun-Springboot-Vue3)
2024-12-11 00:27:37.280 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2024-12-11 00:27:37.289 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2024-12-11 00:27:37.336 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-11 00:27:37.336 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-11 00:27:38.367 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2024-12-11 00:27:38.368 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-12-11 00:27:38.396 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2024-12-11 00:27:39.369 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2024-12-11 00:27:39.379 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2024-12-11 00:27:39.379 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2024-12-11 00:27:39.379 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2024-12-11 00:27:39.444 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2024-12-11 00:27:39.444 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2103 ms
2024-12-11 00:27:39.700 INFO  org.redisson.Version                              :43   [32m                  [0;39m Redisson 3.27.2
2024-12-11 00:27:39.941 WARN  o.r.connection.SequentialDnsAddressResolverFactory:111  [32m                  [0;39m DNS TCP fallback on UDP query timeout disabled. Upgrade Netty to 4.1.105 or higher.
2024-12-11 00:27:40.093 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 1 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:27:40.582 INFO  org.redisson.connection.ConnectionsHolder         :130  [32m                  [0;39m 24 connections initialized for 49.233.178.184/49.233.178.184:6379
2024-12-11 00:27:41.378 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2024-12-11 00:27:41.925 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2024-12-11 00:27:41.985 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2024-12-11 00:27:42.005 INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver  :58   [32m                  [0;39m Exposing 2 endpoint(s) beneath base path '/actuator'
2024-12-11 00:27:42.102 WARN  io.netty.bootstrap.ServerBootstrap                :452  [32m                  [0;39m Unknown channel option 'TCP_NODELAY' for channel '[id: 0x59fadeab]'
2024-12-11 00:27:42.115 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2024-12-11 00:27:42.126 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2024-12-11 00:27:42.144 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 5.157 seconds (JVM running for 7.763)
2024-12-11 00:27:42.149 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2024-12-11 00:27:42.149 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2024-12-11 00:27:42.589 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-11 00:27:42.589 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2024-12-11 00:27:42.589 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2024-12-11 00:27:42.589 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m                  [0;39m HikariPool-1 - Starting...
2024-12-11 00:27:43.016 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m                  [0;39m HikariPool-1 - Start completed.
2024-12-11 00:28:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247479831351136256[0;39m 更新电子书下的文档数据开始
2024-12-11 00:28:00.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247479831351136256[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:28:00.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247479831351136256[0;39m ==> Parameters: 
2024-12-11 00:28:00.067 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247479831351136256[0;39m <==    Updates: 5
2024-12-11 00:28:00.067 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247479831351136256[0;39m 更新电子书下的文档数据结束，耗时：61毫秒
2024-12-11 00:28:34.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247479977086423040[0;39m ------------- 开始 -------------
2024-12-11 00:28:34.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247479977086423040[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2024-12-11 00:28:34.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247479977086423040[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:28:34.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247479977086423040[0;39m 远程地址: 127.0.0.1
2024-12-11 00:28:34.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247479977086423040[0;39m 请求参数: [37841703666847744]
2024-12-11 00:28:34.817 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m247479977086423040[0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2024-12-11 00:28:34.844 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247479977086423040[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-11 00:28:34.844 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247479977086423040[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:28:34.869 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247479977086423040[0;39m <==    Updates: 1
2024-12-11 00:28:34.872 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247479977086423040[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-11 00:28:34.873 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247479977086423040[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:28:34.897 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247479977086423040[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:28:34.898 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247479977086423040[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 6
2024-12-11 00:28:34.899 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247479977086423040[0;39m <==      Total: 1
2024-12-11 00:28:34.899 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247479977086423040[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：文档2.2.2
2024-12-11 00:28:34.975 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247479977086423040[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-11 00:28:35.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247479977086423040[0;39m 返回结果: {"success":true}
2024-12-11 00:28:35.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247479977086423040[0;39m ------------- 结束 耗时：260 ms -------------
2024-12-11 00:28:40.213 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...文档2.2.2
2024-12-11 00:28:45.085 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-11 00:29:32.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247480217533288448[0;39m ------------- 开始 -------------
2024-12-11 00:29:32.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247480217533288448[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2024-12-11 00:29:32.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247480217533288448[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:29:32.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247480217533288448[0;39m 远程地址: 127.0.0.1
2024-12-11 00:29:32.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247480217533288448[0;39m 请求参数: [37841703666847744]
2024-12-11 00:29:32.086 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m247480217533288448[0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2024-12-11 00:29:32.104 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247480217533288448[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-11 00:29:32.105 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247480217533288448[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:29:32.125 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247480217533288448[0;39m <==    Updates: 1
2024-12-11 00:29:32.128 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247480217533288448[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-11 00:29:32.128 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247480217533288448[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:29:32.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247480217533288448[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:29:32.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247480217533288448[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 7
2024-12-11 00:29:32.137 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247480217533288448[0;39m <==      Total: 1
2024-12-11 00:29:32.137 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247480217533288448[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：文档2.2.2
2024-12-11 00:29:32.147 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247480217533288448[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-11 00:29:32.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247480217533288448[0;39m 返回结果: {"success":true}
2024-12-11 00:29:32.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247480217533288448[0;39m ------------- 结束 耗时：79 ms -------------
2024-12-11 00:29:37.181 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...文档2.2.2
2024-12-11 00:29:42.176 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-11 00:29:53.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m247480305861136384[0;39m ------------- 开始 -------------
2024-12-11 00:29:53.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m247480305861136384[0;39m 请求地址: http://127.0.0.1:8880/doc/vote/37841703666847744 GET
2024-12-11 00:29:53.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m247480305861136384[0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2024-12-11 00:29:53.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m247480305861136384[0;39m 远程地址: 127.0.0.1
2024-12-11 00:29:53.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :77   [32m247480305861136384[0;39m 请求参数: [37841703666847744]
2024-12-11 00:29:53.147 INFO  com.jiawa.wiki.util.RedisUtil                     :37   [32m247480305861136384[0;39m key不存在，放入：DOC_VOTE_37841703666847744_127.0.0.1，过期 5000 秒
2024-12-11 00:29:53.166 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247480305861136384[0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2024-12-11 00:29:53.167 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247480305861136384[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:29:53.184 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m247480305861136384[0;39m <==    Updates: 1
2024-12-11 00:29:53.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247480305861136384[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2024-12-11 00:29:53.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247480305861136384[0;39m ==> Parameters: 37841703666847744(Long)
2024-12-11 00:29:53.196 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247480305861136384[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2024-12-11 00:29:53.196 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m247480305861136384[0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 24, 8
2024-12-11 00:29:53.196 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m247480305861136384[0;39m <==      Total: 1
2024-12-11 00:29:53.196 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247480305861136384[0;39m 将任务添加到延迟队列，延迟时间：5秒，任务类型：redisson-task01，任务内容：文档2.2.2
2024-12-11 00:29:53.203 INFO  com.jiawa.wiki.task.QueueTaskService              :77   [32m247480305861136384[0;39m 将任务添加到延迟队列，延迟时间：10秒，任务类型：redisson-task02，任务内容：任务内容02
2024-12-11 00:29:53.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :92   [32m247480305861136384[0;39m 返回结果: {"success":true}
2024-12-11 00:29:53.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m247480305861136384[0;39m ------------- 结束 耗时：81 ms -------------
2024-12-11 00:29:58.278 INFO  com.jiawa.wiki.task.ExecuteQueueTaskServiceImpl   :25   [32m                  [0;39m 任务执行...文档2.2.2
2024-12-11 00:30:00.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247480334734725120[0;39m 更新电子书下的文档数据开始
2024-12-11 00:30:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247480334734725120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:30:00.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247480334734725120[0;39m ==> Parameters: 
2024-12-11 00:30:00.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247480334734725120[0;39m <==    Updates: 5
2024-12-11 00:30:00.048 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247480334734725120[0;39m 更新电子书下的文档数据结束，耗时：27毫秒
2024-12-11 00:30:03.279 INFO  com.jiawa.wiki.task.Task02Service                 :16   [32m                  [0;39m 执行 Task02, 参数: 任务内容02
2024-12-11 00:32:00.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247480837971513344[0;39m 更新电子书下的文档数据开始
2024-12-11 00:32:00.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247480837971513344[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:32:00.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247480837971513344[0;39m ==> Parameters: 
2024-12-11 00:32:00.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247480837971513344[0;39m <==    Updates: 5
2024-12-11 00:32:00.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247480837971513344[0;39m 更新电子书下的文档数据结束，耗时：32毫秒
2024-12-11 00:34:00.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m247481341300576256[0;39m 更新电子书下的文档数据开始
2024-12-11 00:34:00.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247481341300576256[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2024-12-11 00:34:00.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247481341300576256[0;39m ==> Parameters: 
2024-12-11 00:34:00.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m247481341300576256[0;39m <==    Updates: 5
2024-12-11 00:34:00.047 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m247481341300576256[0;39m 更新电子书下的文档数据结束，耗时：43毫秒
